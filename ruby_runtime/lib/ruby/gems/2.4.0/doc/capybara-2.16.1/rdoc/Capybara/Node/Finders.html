<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Capybara::Node::Finders - capybara-2.16.1 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-all">#all</a>
    
    <li ><a href="#method-i-ancestor">#ancestor</a>
    
    <li ><a href="#method-i-field_labeled">#field_labeled</a>
    
    <li ><a href="#method-i-find">#find</a>
    
    <li ><a href="#method-i-find_all">#find_all</a>
    
    <li ><a href="#method-i-find_button">#find_button</a>
    
    <li ><a href="#method-i-find_by_id">#find_by_id</a>
    
    <li ><a href="#method-i-find_field">#find_field</a>
    
    <li ><a href="#method-i-find_link">#find_link</a>
    
    <li ><a href="#method-i-first">#first</a>
    
    <li ><a href="#method-i-sibling">#sibling</a>
    
    <li ><a href="#method-i-synced_resolve">#synced_resolve</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Capybara::Node::Finders">
  <h1 id="module-Capybara::Node::Finders" class="module">
    module Capybara::Node::Finders
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@!method all([kind = Capybara.default_selector], locator = nil, options =
{})</p>

<p>Find all elements on the page matching the given selector and options.</p>

<p>Both <a href="../../XPath.html">XPath</a> and CSS expressions are
supported, but <a href="../../Capybara.html">Capybara</a> does not try to
automatically distinguish between them. The following statements are
equivalent:</p>

<pre class="ruby"><span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(:<span class="ruby-identifier">css</span>, <span class="ruby-string">&#39;a#person_123&#39;</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(:<span class="ruby-identifier">xpath</span>, <span class="ruby-string">&#39;.//a[@id=&quot;person_123&quot;]&#39;</span>)
</pre>

<p>If the type of selector is left out, <a
href="../../Capybara.html">Capybara</a> uses {Capybara.default_selector}.
It&#39;s set to :css by default.</p>

<pre class="ruby"><span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(<span class="ruby-node">&quot;a#person_123&quot;</span>)

<span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">default_selector</span> = :<span class="ruby-identifier">xpath</span>
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(<span class="ruby-string">&#39;.//a[@id=&quot;person_123&quot;]&#39;</span>)
</pre>

<p>The set of found elements can further be restricted by specifying options.
It&#39;s possible to select elements by their text or visibility:</p>

<pre class="ruby"><span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;Home&#39;</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">all</span>(<span class="ruby-string">&#39;#menu li&#39;</span>, <span class="ruby-identifier">visible</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
</pre>

<p>By default if no elements are found, an empty array is returned; however,
expectations can be set on the number of elements to be found which will
trigger Capybara&#39;s waiting behavior for the expectations to match.The
expectations can be set using</p>

<pre class="ruby"><span class="ruby-identifier">page</span>.<span class="ruby-identifier">assert_selector</span>(<span class="ruby-string">&#39;p#foo&#39;</span>, <span class="ruby-identifier">count</span><span class="ruby-operator">:</span> <span class="ruby-value">4</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">assert_selector</span>(<span class="ruby-string">&#39;p#foo&#39;</span>, <span class="ruby-identifier">maximum</span><span class="ruby-operator">:</span> <span class="ruby-value">10</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">assert_selector</span>(<span class="ruby-string">&#39;p#foo&#39;</span>, <span class="ruby-identifier">minimum</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">assert_selector</span>(<span class="ruby-string">&#39;p#foo&#39;</span>, <span class="ruby-identifier">between</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">10</span>)
</pre>

<p>See {Capybara::Helpers#matches_count?} for additional information about
count matching.</p>

<p>@param [Symbol] kind                       Optional selector type (:css,
:xpath, :field, etc.) - Defaults to Capybara.default_selector @param
[String] locator                    The selector @option options [String,
Regexp] text      Only find elements which contain this text or match this
regexp @option options [String, Boolean] exact_text (Capybara.exact_text)
When String the string the elements contained text must match exactly, when
Boolean controls whether the :text option must match exactly @option
options [Boolean, Symbol] visible  Only find elements with the specified
visibility:</p>

<pre>* true - only finds visible elements.
* false - finds invisible _and_ visible elements.
* :all - same as false; finds visible and invisible elements.
* :hidden - only finds invisible elements.
* :visible - same as true; only finds visible elements.</pre>

<p>@option options [Integer] count            Exact number of matches that are
expected to be found @option options [Integer] maximum          Maximum
number of matches that are expected to be found @option options [Integer]
minimum          Minimum number of matches that are expected to be found
@option options [Range]   between          Number of matches found must be
within the given range @option options [Boolean] exact            Control
whether `is` expressions in the given <a href="../../XPath.html">XPath</a>
match exactly or partially @option options [Integer] wait
(Capybara.default_max_wait_time)  The time to wait for element count
expectations to become true @overload all([kind =
Capybara.default_selector], locator = nil, options = {}) @overload
all([kind = Capybara.default_selector], locator = nil, options = {},
&amp;filter_block)</p>

<pre>@yieldparam element [Capybara::Node::Element]  The element being considered for inclusion in the results
@yieldreturn [Boolean]                     Should the element be considered in the results?</pre>

<p>@return [Capybara::Result]                   A collection of found elements</p>
          
          

          
          <div class="method-source-code" id="all-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>[<span class="ruby-value">:session_options</span>] = <span class="ruby-identifier">session_options</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">session_options</span><span class="ruby-operator">:</span> <span class="ruby-identifier">session_options</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">query</span> = <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Queries</span><span class="ruby-operator">::</span><span class="ruby-constant">SelectorQuery</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">query</span>.<span class="ruby-identifier">wait</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">query</span>.<span class="ruby-identifier">resolve_for</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">ExpectationNotMet</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">failure_message</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">matches_count?</span>
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Finders.html#method-i-find_all">find_all</a>
        </div>
        

        
      </div>

    
      <div id="method-i-ancestor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ancestor</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find an {Capybara::Node::Element} based on the given arguments that is also
an ancestor of the element called on. <code>ancestor</code> will raise an
error if the element is not found.</p>

<p><code>ancestor</code> takes the same options as <code>find</code>.</p>

<pre class="ruby"><span class="ruby-identifier">element</span>.<span class="ruby-identifier">ancestor</span>(<span class="ruby-string">&#39;#foo&#39;</span>).<span class="ruby-identifier">find</span>(<span class="ruby-string">&#39;.bar&#39;</span>)
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">ancestor</span>(:<span class="ruby-identifier">xpath</span>, <span class="ruby-string">&#39;.//div[contains(., &quot;bar&quot;)]&#39;</span>)
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">ancestor</span>(<span class="ruby-string">&#39;ul&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;Quox&#39;</span>).<span class="ruby-identifier">click_link</span>(<span class="ruby-string">&#39;Delete&#39;</span>)
</pre>

<p>@param (see <a href="Finders.html#method-i-find">#find</a>)</p>

<p>@!macro waiting_behavior</p>

<p>@option options [Boolean] match        The matching strategy to use.</p>

<p>@return [Capybara::Node::Element]      The found element @raise 
[Capybara::ElementNotFound]    If the element can&#39;t be found before
time expires</p>
          
          

          
          <div class="method-source-code" id="ancestor-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ancestor</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>[<span class="ruby-value">:session_options</span>] = <span class="ruby-identifier">session_options</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">session_options</span><span class="ruby-operator">:</span> <span class="ruby-identifier">session_options</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">synced_resolve</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Queries</span><span class="ruby-operator">::</span><span class="ruby-constant">AncestorQuery</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-field_labeled" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">field_labeled</span><span
            class="method-args">(locator=nil, options={}, &optional_filter_block)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Finders.html#method-i-find_field">find_field</a>
        </div>
        
      </div>

    
      <div id="method-i-find" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find an {Capybara::Node::Element} based on the given arguments.
<code>find</code> will raise an error if the element is not found.</p>

<p>@!macro waiting_behavior</p>

<pre>If the driver is capable of executing JavaScript, +$0+ will wait for a set amount of time
and continuously retry finding the element until either the element is found or the time
expires. The length of time +find+ will wait is controlled through {Capybara.default_max_wait_time}
and defaults to 2 seconds.
@option options [false, Numeric] wait (Capybara.default_max_wait_time) Maximum time to wait for matching element to appear.</pre>

<p><code>find</code> takes the same options as <code>all</code>.</p>

<pre class="ruby"><span class="ruby-identifier">page</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&#39;#foo&#39;</span>).<span class="ruby-identifier">find</span>(<span class="ruby-string">&#39;.bar&#39;</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">xpath</span>, <span class="ruby-string">&#39;.//div[contains(., &quot;bar&quot;)]&#39;</span>)
<span class="ruby-identifier">page</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&#39;li&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;Quox&#39;</span>).<span class="ruby-identifier">click_link</span>(<span class="ruby-string">&#39;Delete&#39;</span>)
</pre>

<p>@param (see <a href="Finders.html#method-i-all">#all</a>)</p>

<p>@option options [Boolean] match        The matching strategy to use.</p>

<p>@return [Capybara::Node::Element]      The found element @raise 
[Capybara::ElementNotFound]    If the element can&#39;t be found before
time expires</p>
          
          

          
          <div class="method-source-code" id="find-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>[<span class="ruby-value">:session_options</span>] = <span class="ruby-identifier">session_options</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">session_options</span><span class="ruby-operator">:</span> <span class="ruby-identifier">session_options</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">synced_resolve</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Queries</span><span class="ruby-operator">::</span><span class="ruby-constant">SelectorQuery</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_all" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">find_all</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Finders.html#method-i-all">all</a>
        </div>
        
      </div>

    
      <div id="method-i-find_button" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_button</span><span
            class="method-args">(locator=nil, options={}, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find a button on the page. This can be any &lt;input&gt; element of type
submit, reset, image, button or it can be a &lt;button&gt; element. All
buttons can be found by their id, value, or title. &lt;button&gt; elements
can also be found by their text content, and image &lt;input&gt; elements
by their alt attribute</p>

<p>@overload <a href="locator">find_button(</a>, options={})</p>

<pre>@param [String] locator            id, value, title, text content, alt of image

@overload find_button(options={})

@macro waiting_behavior

@option options [Boolean, Symbol] disabled (false)  Match disabled button?
                                                    * true - only finds a disabled button
                                                    * false - only finds an enabled button
                                                    * :all - finds either an enabled or disabled button
@option options [String] id                 Match buttons with the id provided
@option options [String] title              Match buttons with the title provided
@option options [String] value              Match buttons with the value provided
@option options [String, Array&lt;String&gt;] class    Match buttons that match the class(es) provided</pre>

<p>@return [Capybara::Node::Element]   The found element</p>
          
          

          
          <div class="method-source-code" id="find_button-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_button</span>(<span class="ruby-identifier">locator</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">locator</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">locator</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:button</span>, <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_by_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_by_id</span><span
            class="method-args">(id, options={}, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find a element on the page, given its id.</p>

<p>@macro waiting_behavior</p>

<p>@param [String] id                  id of element</p>

<p>@return [Capybara::Node::Element]   The found element</p>
          
          

          
          <div class="method-source-code" id="find_by_id-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 191</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_by_id</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:id</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_field" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_field</span><span
            class="method-args">(locator=nil, options={}, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find a form field on the page. The field can be found by its name, id or
label text.</p>

<p>@overload <a href="locator">find_field(</a>, options={})</p>

<pre>@param [String] locator             name, id, placeholder or text of associated label element

@macro waiting_behavior

@option options [Boolean] checked       Match checked field?
@option options [Boolean] unchecked     Match unchecked field?
@option options [Boolean, Symbol] disabled (false)  Match disabled field?
                                                    * true - only finds a disabled field
                                                    * false - only finds an enabled field
                                                    * :all - finds either an enabled or disabled field
@option options [Boolean] readonly      Match readonly field?
@option options [String, Regexp] with   Value of field to match on
@option options [String] type           Type of field to match on
@option options [Boolean] multiple      Match fields that can have multiple values?
@option options [String] id             Match fields that match the id attribute
@option options [String] name           Match fields that match the name attribute
@option options [String] placeholder    Match fields that match the placeholder attribute
@option options [String, Array&lt;String&gt;] Match fields that match the class(es) passed</pre>

<p>@return [Capybara::Node::Element]   The found element</p>
          
          

          
          <div class="method-source-code" id="find_field-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_field</span>(<span class="ruby-identifier">locator</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">locator</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">locator</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:field</span>, <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Finders.html#method-i-field_labeled">field_labeled</a>
        </div>
        

        
      </div>

    
      <div id="method-i-find_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_link</span><span
            class="method-args">(locator=nil, options={}, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find a link on the page. The link can be found by its id or text.</p>

<p>@overload <a href="locator">find_link(</a>, options={})</p>

<pre>@param [String] locator            id, title, text, or alt of enclosed img element

@macro waiting_behavior

@option options [String,Regexp,nil] href        Value to match against the links href, if nil finds link placeholders (&lt;a&gt; elements with no href attribute)
@option options [String] id                 Match links with the id provided
@option options [String] title              Match links with the title provided
@option options [String] alt                Match links with a contained img element whose alt matches
@option options [String, Array&lt;String&gt;] class    Match links that match the class(es) provided</pre>

<p>@return [Capybara::Node::Element]   The found element</p>
          
          

          
          <div class="method-source-code" id="find_link-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_link</span>(<span class="ruby-identifier">locator</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">locator</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">locator</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:link</span>, <span class="ruby-identifier">locator</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-first" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">first</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find the first element on the page matching the given selector and options,
or nil if no element matches.  By default no waiting behavior occurs,
however if {Capybara.wait_on_first_by_default} is set to true it will
trigger Capybara&#39;s waiting behavior for a minimum of 1 matching element
to be found and return the first.  Waiting behavior can also be triggered
by passing in any of the count expectation options.</p>

<p>@overload <a href="kind">first(</a>, locator, options)</p>

<pre>@param [:css, :xpath] kind                 The type of selector
@param [String] locator                    The selector
@param [Hash] options                      Additional options; see {#all}</pre>

<p>@return [Capybara::Node::Element]            The found element or nil</p>
          
          

          
          <div class="method-source-code" id="first-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">first</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">session_options</span>.<span class="ruby-identifier">wait_on_first_by_default</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-keyword">then</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">else</span> {} <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>({<span class="ruby-identifier">minimum</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">ExpectationNotMet</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sibling" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sibling</span><span
            class="method-args">(*args, &optional_filter_block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find an {Capybara::Node::Element} based on the given arguments that is also
a sibling of the element called on. <code>sibling</code> will raise an
error if the element is not found.</p>

<p><code>sibling</code> takes the same options as <code>find</code>.</p>

<pre class="ruby"><span class="ruby-identifier">element</span>.<span class="ruby-identifier">sibling</span>(<span class="ruby-string">&#39;#foo&#39;</span>).<span class="ruby-identifier">find</span>(<span class="ruby-string">&#39;.bar&#39;</span>)
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">sibling</span>(:<span class="ruby-identifier">xpath</span>, <span class="ruby-string">&#39;.//div[contains(., &quot;bar&quot;)]&#39;</span>)
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">sibling</span>(<span class="ruby-string">&#39;ul&#39;</span>, <span class="ruby-identifier">text</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;Quox&#39;</span>).<span class="ruby-identifier">click_link</span>(<span class="ruby-string">&#39;Delete&#39;</span>)
</pre>

<p>@param (see <a href="Finders.html#method-i-find">#find</a>)</p>

<p>@macro waiting_behavior</p>

<p>@option options [Boolean] match        The matching strategy to use.</p>

<p>@return [Capybara::Node::Element]      The found element @raise 
[Capybara::ElementNotFound]    If the element can&#39;t be found before
time expires</p>
          
          

          
          <div class="method-source-code" id="sibling-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sibling</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>[<span class="ruby-value">:session_options</span>] = <span class="ruby-identifier">session_options</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">session_options</span><span class="ruby-operator">:</span> <span class="ruby-identifier">session_options</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">synced_resolve</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Queries</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingQuery</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">optional_filter_block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-synced_resolve" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">synced_resolve</span><span
            class="method-args">(query)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="synced_resolve-source">
            <pre><span class="ruby-comment"># File lib/capybara/node/finders.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">synced_resolve</span>(<span class="ruby-identifier">query</span>)
  <span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">query</span>.<span class="ruby-identifier">wait</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">query</span>.<span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-value">:smart</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">query</span>.<span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-value">:prefer_exact</span>)
      <span class="ruby-identifier">result</span> = <span class="ruby-identifier">query</span>.<span class="ruby-identifier">resolve_for</span>(<span class="ruby-keyword">self</span>, <span class="ruby-keyword">true</span>)
      <span class="ruby-identifier">result</span> = <span class="ruby-identifier">query</span>.<span class="ruby-identifier">resolve_for</span>(<span class="ruby-keyword">self</span>, <span class="ruby-keyword">false</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">query</span>.<span class="ruby-identifier">supports_exact?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">query</span>.<span class="ruby-identifier">exact?</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">result</span> = <span class="ruby-identifier">query</span>.<span class="ruby-identifier">resolve_for</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">query</span>.<span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-value">:one</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">query</span>.<span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-value">:smart</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Ambiguous</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Ambiguous match, found #{result.size} elements matching #{query.description}&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementNotFound</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Unable to find #{query.description}&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">tap</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:allow_reload!</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

