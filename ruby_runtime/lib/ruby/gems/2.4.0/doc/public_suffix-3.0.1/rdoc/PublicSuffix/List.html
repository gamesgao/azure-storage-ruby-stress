<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class PublicSuffix::List - public_suffix-3.0.1 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-default">::default</a>
    
    <li ><a href="#method-c-default-3D">::default=</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-parse">::parse</a>
    
    <li ><a href="#method-i-3C-3C">#&lt;&lt;</a>
    
    <li ><a href="#method-i-3D-3D">#==</a>
    
    <li ><a href="#method-i-add">#add</a>
    
    <li ><a href="#method-i-clear">#clear</a>
    
    <li ><a href="#method-i-default_rule">#default_rule</a>
    
    <li ><a href="#method-i-each">#each</a>
    
    <li ><a href="#method-i-empty-3F">#empty?</a>
    
    <li ><a href="#method-i-entry_to_rule">#entry_to_rule</a>
    
    <li ><a href="#method-i-eql-3F">#eql?</a>
    
    <li ><a href="#method-i-find">#find</a>
    
    <li ><a href="#method-i-rule_to_entry">#rule_to_entry</a>
    
    <li ><a href="#method-i-select">#select</a>
    
    <li ><a href="#method-i-size">#size</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-PublicSuffix::List">
  <h1 id="class-PublicSuffix::List" class="class">
    class PublicSuffix::List
  </h1>

  <section class="description">
    
<p>A {PublicSuffix::List} is a collection of one or more {PublicSuffix::Rule}.</p>

<p>Given a {PublicSuffix::List}, you can add or remove {PublicSuffix::Rule},
iterate all items in the list or search for the first rule which matches a
specific domain name.</p>

<pre class="ruby"><span class="ruby-comment"># Create a new list</span>
<span class="ruby-identifier">list</span> =  <span class="ruby-constant">PublicSuffix</span><span class="ruby-operator">::</span><span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span>

<span class="ruby-comment"># Push two rules to the list</span>
<span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PublicSuffix</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">factory</span>(<span class="ruby-string">&quot;it&quot;</span>)
<span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">PublicSuffix</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">factory</span>(<span class="ruby-string">&quot;com&quot;</span>)

<span class="ruby-comment"># Get the size of the list</span>
<span class="ruby-identifier">list</span>.<span class="ruby-identifier">size</span>
<span class="ruby-comment"># =&gt; 2</span>

<span class="ruby-comment"># Search for the rule matching given domain</span>
<span class="ruby-identifier">list</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;example.com&quot;</span>)
<span class="ruby-comment"># =&gt; #&lt;PublicSuffix::Rule::Normal&gt;</span>
<span class="ruby-identifier">list</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;example.org&quot;</span>)
<span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>You can create as many {PublicSuffix::List} you want. The
{PublicSuffix::List.default} rule list is used to tokenize and validate a
domain.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="DEFAULT_LIST_PATH">DEFAULT_LIST_PATH
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-rules" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">rules</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-default" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default</span><span
            class="method-args">(**options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Gets the default rule list.</p>

<p>Initializes a new {PublicSuffix::List} parsing the content of
{PublicSuffix::List.default_list_content}, if required.</p>

<p>@return [PublicSuffix::List]</p>
          
          

          
          <div class="method-source-code" id="default-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@default</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">DEFAULT_LIST_PATH</span>), <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-default-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the default rule list to <code>value</code>.</p>

<p>@param  value [PublicSuffix::List] the new list @return
[PublicSuffix::List]</p>
          
          

          
          <div class="method-source-code" id="default-3D-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-ivar">@default</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">() { |self| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Initializes an empty {PublicSuffix::List}.</p>

<p>@yield [self] Yields on self. @yieldparam [PublicSuffix::List] self The
newly created instance.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-ivar">@rules</span> = {}
  <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-parse" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse</span><span
            class="method-args">(input, private_domains: true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Parse given <code>input</code> treating the content as Public Suffix <a
href="List.html">List</a>.</p>

<p>See <a href="http://publicsuffix.org/format">publicsuffix.org/format</a>/
for more details about input format.</p>

<p>@param  string [#each_line] the list to parse @param  private_domains
[Boolean] whether to ignore the private domains section @return
[PublicSuffix::List]</p>
          
          

          
          <div class="method-source-code" id="parse-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">input</span>, <span class="ruby-identifier">private_domains</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">comment_token</span> = <span class="ruby-string">&quot;//&quot;</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-identifier">private_token</span> = <span class="ruby-string">&quot;===BEGIN PRIVATE DOMAINS===&quot;</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-identifier">section</span> = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># 1 == ICANN, 2 == PRIVATE</span>

  <span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">list</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">input</span>.<span class="ruby-identifier">each_line</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">line</span>.<span class="ruby-identifier">strip!</span>
      <span class="ruby-keyword">case</span> <span class="ruby-comment"># rubocop:disable Style/EmptyCaseCondition</span>

      <span class="ruby-comment"># skip blank lines</span>
      <span class="ruby-keyword">when</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-keyword">next</span>

      <span class="ruby-comment"># include private domains or stop scanner</span>
      <span class="ruby-keyword">when</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">private_token</span>)
        <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">private_domains</span>
        <span class="ruby-identifier">section</span> = <span class="ruby-value">2</span>

      <span class="ruby-comment"># skip comments</span>
      <span class="ruby-keyword">when</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-identifier">comment_token</span>)
        <span class="ruby-keyword">next</span>

      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">list</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">Rule</span>.<span class="ruby-identifier">factory</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">private</span><span class="ruby-operator">:</span> <span class="ruby-identifier">section</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>))

      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3C-3C" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">&lt;&lt;</span><span
            class="method-args">(rule)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="List.html#method-i-add">add</a>
        </div>
        
      </div>

    
      <div id="method-i-3D-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">==</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks whether two lists are equal.</p>

<p><a href="List.html">List</a> <code>one</code> is equal to <code>two</code>,
if <code>two</code> is an instance of {PublicSuffix::List} and each
<code>PublicSuffix::Rule::*</code> in list <code>one</code> is available in
list <code>two</code>, in the same order.</p>

<p>@param  other [PublicSuffix::List] the <a href="List.html">List</a> to
compare @return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="3D-3D-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">List</span>)
  <span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">other</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@rules</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">rules</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="List.html#method-i-eql-3F">eql?</a>
        </div>
        

        
      </div>

    
      <div id="method-i-add" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add</span><span
            class="method-args">(rule)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Adds the given object to the list and optionally refreshes the rule index.</p>

<p>@param  rule [PublicSuffix::Rule::*] the rule to add to the list @return
[self]</p>
          
          

          
          <div class="method-source-code" id="add-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">rule</span>)
  <span class="ruby-ivar">@rules</span>[<span class="ruby-identifier">rule</span>.<span class="ruby-identifier">value</span>] = <span class="ruby-identifier">rule_to_entry</span>(<span class="ruby-identifier">rule</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="List.html#method-i-3C-3C">&lt;&lt;</a>
        </div>
        

        
      </div>

    
      <div id="method-i-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Removes all rules.</p>

<p>@return [self]</p>
          
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear</span>
  <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_rule" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_rule</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Gets the default rule.</p>

<p>@see PublicSuffix::Rule.default_rule</p>

<p>@return [PublicSuffix::Rule::*]</p>
          
          

          
          <div class="method-source-code" id="default_rule-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_rule</span>
  <span class="ruby-constant">PublicSuffix</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">default</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-each" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">(&block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Iterates each rule in the list.</p>
          
          

          
          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Enumerator</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">y</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">entry_to_rule</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">key</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-empty-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">empty?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks whether the list is empty.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="empty-3F-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">empty?</span>
  <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eql-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">eql?</span><span
            class="method-args">(other)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="List.html#method-i-3D-3D">==</a>
        </div>
        
      </div>

    
      <div id="method-i-find" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find</span><span
            class="method-args">(name, default: default_rule, **options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Finds and returns the rule corresponding to the longest public suffix for
the hostname.</p>

<p>@param  name [#to_s] the hostname @param  default [PublicSuffix::Rule::*]
the default rule to return in case no rule matches @return
[PublicSuffix::Rule::*]</p>
          
          

          
          <div class="method-source-code" id="find-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span><span class="ruby-operator">:</span> <span class="ruby-identifier">default_rule</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">rule</span> = <span class="ruby-identifier">select</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>).<span class="ruby-identifier">inject</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">l</span>, <span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Rule</span><span class="ruby-operator">::</span><span class="ruby-constant">Exception</span>
    <span class="ruby-identifier">l</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">rule</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-size" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">size</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Gets the number of rules in the list.</p>

<p>@return [Integer]</p>
          
          

          
          <div class="method-source-code" id="size-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">size</span>
  <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-entry_to_rule" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">entry_to_rule</span><span
            class="method-args">(entry, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="entry_to_rule-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">entry_to_rule</span>(<span class="ruby-identifier">entry</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">type</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>, <span class="ruby-identifier">length</span><span class="ruby-operator">:</span> <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">private</span><span class="ruby-operator">:</span> <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">private</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rule_to_entry" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rule_to_entry</span><span
            class="method-args">(rule)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rule_to_entry-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rule_to_entry</span>(<span class="ruby-identifier">rule</span>)
  <span class="ruby-constant">Rule</span><span class="ruby-operator">::</span><span class="ruby-constant">Entry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">private</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-select" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">select</span><span
            class="method-args">(name, ignore_private: false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Selects all the rules matching given hostame.</p>

<p>If `ignore_private` is set to true, the algorithm will skip the rules that
are flagged as private domain. Note that the rules will still be part of
the loop. If you frequently need to access lists ignoring the private
domains, you should create a list that doesn&#39;t include these domains
setting the `private_domains: false` option when calling {.parse}.</p>

<p>Note that this method is currently private, as you should not rely on it.
Instead, the public interface is {#find}. The current internal algorithm
allows to return all matching rules, but different data structures may not
be able to do it, and instead would return only the match. For this reason,
you should rely on {#find}.</p>

<p>@param  name [#to_s] the hostname @param  ignore_private [Boolean] @return
[Array&lt;PublicSuffix::Rule::*&gt;]</p>
          
          

          
          <div class="method-source-code" id="select-source">
            <pre><span class="ruby-comment"># File lib/public_suffix/list.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ignore_private</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">DOT</span>).<span class="ruby-identifier">reverse!</span>
  <span class="ruby-identifier">index</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">query</span> = <span class="ruby-identifier">parts</span>[<span class="ruby-identifier">index</span>]
  <span class="ruby-identifier">rules</span> = []

  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">match</span> = <span class="ruby-ivar">@rules</span>[<span class="ruby-identifier">query</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">match</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ignore_private</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">private</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>)
      <span class="ruby-identifier">rules</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">entry_to_rule</span>(<span class="ruby-identifier">match</span>, <span class="ruby-identifier">query</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">index</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">index</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">query</span> = <span class="ruby-identifier">parts</span>[<span class="ruby-identifier">index</span>] <span class="ruby-operator">+</span> <span class="ruby-constant">DOT</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">query</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rules</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

