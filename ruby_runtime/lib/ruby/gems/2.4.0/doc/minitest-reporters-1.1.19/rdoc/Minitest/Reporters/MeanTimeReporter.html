<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Minitest::Reporters::MeanTimeReporter - minitest-reporters-1.1.19 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="DefaultReporter.html">Minitest::Reporters::DefaultReporter</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li class="calls-super" ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-reset_statistics-21">::reset_statistics!</a>
    
    <li class="calls-super" ><a href="#method-i-after_suite">#after_suite</a>
    
    <li ><a href="#method-i-asc-3F">#asc?</a>
    
    <li ><a href="#method-i-avg_label">#avg_label</a>
    
    <li ><a href="#method-i-column_sorted_body">#column_sorted_body</a>
    
    <li ><a href="#method-i-create_new_report-21">#create_new_report!</a>
    
    <li ><a href="#method-i-create_or_update_previous_runs-21">#create_or_update_previous_runs!</a>
    
    <li ><a href="#method-i-current_run">#current_run</a>
    
    <li ><a href="#method-i-defaults">#defaults</a>
    
    <li ><a href="#method-i-des_label">#des_label</a>
    
    <li ><a href="#method-i-desc-3F">#desc?</a>
    
    <li ><a href="#method-i-max_label">#max_label</a>
    
    <li ><a href="#method-i-min_label">#min_label</a>
    
    <li class="calls-super" ><a href="#method-i-on_record">#on_record</a>
    
    <li class="calls-super" ><a href="#method-i-on_report">#on_report</a>
    
    <li class="calls-super" ><a href="#method-i-on_start">#on_start</a>
    
    <li ><a href="#method-i-options">#options</a>
    
    <li ><a href="#method-i-order">#order</a>
    
    <li ><a href="#method-i-order_sorted_body">#order_sorted_body</a>
    
    <li ><a href="#method-i-previous_run">#previous_run</a>
    
    <li ><a href="#method-i-previous_runs_filename">#previous_runs_filename</a>
    
    <li ><a href="#method-i-previously_ran-3F">#previously_ran?</a>
    
    <li ><a href="#method-i-rate">#rate</a>
    
    <li class="calls-super" ><a href="#method-i-report">#report</a>
    
    <li ><a href="#method-i-report_body">#report_body</a>
    
    <li ><a href="#method-i-report_filename">#report_filename</a>
    
    <li ><a href="#method-i-report_title">#report_title</a>
    
    <li ><a href="#method-i-reset_statistics-21">#reset_statistics!</a>
    
    <li ><a href="#method-i-run_label">#run_label</a>
    
    <li ><a href="#method-i-samples">#samples</a>
    
    <li ><a href="#method-i-show_count">#show_count</a>
    
    <li ><a href="#method-i-sort_column">#sort_column</a>
    
    <li ><a href="#method-i-write_to_screen-21">#write_to_screen!</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Minitest::Reporters::MeanTimeReporter">
  <h1 id="class-Minitest::Reporters::MeanTimeReporter" class="class">
    class Minitest::Reporters::MeanTimeReporter
  </h1>

  <section class="description">
    
<p>This reporter creates a report providing the average (mean), minimum and
maximum times for a test to run. Running this for all your tests will allow
you to:</p>

<p>1) Identify the slowest running tests over time as potential candidates</p>

<pre>for improvements or refactoring.</pre>

<p>2) Identify (and fix) regressions in test run speed caused by changes to</p>

<pre>your tests or algorithms in your code.</pre>

<p>3) Provide an abundance of statistics to enjoy.</p>

<p>This is achieved by creating a (configurable) &#39;previous runs&#39;
statistics file which is parsed at the end of each run to provide a new
(configurable) report. These statistics can be reset at any time by using a
simple rake task:</p>

<pre class="ruby"><span class="ruby-identifier">rake</span> <span class="ruby-identifier">reset_statistics</span>
</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-all_suite_times" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">all_suite_times</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param options [Hash] @option <a
href="MeanTimeReporter.html#method-i-previous_runs_filename">#previous_runs_filename</a>
[String] Contains the times for each test</p>

<pre>by description. Defaults to &#39;/tmp/minitest_reporters_previous_run&#39;.</pre>

<p>@option <a
href="MeanTimeReporter.html#method-i-report_filename">#report_filename</a>
[String] Contains the parsed results for the</p>

<pre>last test run. Defaults to &#39;/tmp/minitest_reporters_report&#39;.</pre>

<p>@option <a href="MeanTimeReporter.html#method-i-show_count">#show_count</a>
[Fixnum] The number of tests to show in the report</p>

<pre>summary at the end of the test run. Default is 15.</pre>

<p>@option show_progress [Boolean] If true it prints pass/skip/fail marks.</p>

<pre>Default is true.</pre>

<p>@option show_all_runs [Boolean] If true it shows all recorded suit results.</p>

<pre>Default is true.</pre>

<p>@option <a
href="MeanTimeReporter.html#method-i-sort_column">#sort_column</a> [Symbol]
One of :avg (default), :min, :max, :last.</p>

<pre>Determines the column by which the report summary is sorted.</pre>

<p>@option order [Symbol] One of :desc (default), or :asc. By default the</p>

<pre>report summary is listed slowest to fastest (:desc). :asc will order
the report summary as fastest to slowest.</pre>

<p>@return [Minitest::Reporters::MeanTimeReporter]</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-c-new">Minitest::Reporters::DefaultReporter.new</a>
            </div>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">super</span>

  <span class="ruby-ivar">@all_suite_times</span> = []
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-reset_statistics-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset_statistics!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Reset the statistics file for this reporter. Called via a rake task:</p>

<pre class="ruby"><span class="ruby-identifier">rake</span> <span class="ruby-identifier">reset_statistics</span>
</pre>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="reset_statistics-21-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">reset_statistics!</span>
  <span class="ruby-identifier">new</span>.<span class="ruby-identifier">reset_statistics!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-after_suite" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">after_suite</span><span
            class="method-args">(suite)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Copies the suite times from the
{Minitest::Reporters::DefaultReporter#after_suite} method, making them
available to this class.</p>

<p>@return [Hash&lt;String =&gt; Float&gt;]</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-i-after_suite">Minitest::Reporters::DefaultReporter#after_suite</a>
            </div>
          

          
          <div class="method-source-code" id="after_suite-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after_suite</span>(<span class="ruby-identifier">suite</span>)
  <span class="ruby-keyword">super</span>

  <span class="ruby-ivar">@all_suite_times</span> = <span class="ruby-ivar">@suite_times</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-on_record" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">on_record</span><span
            class="method-args">(test)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-i-on_record">Minitest::Reporters::DefaultReporter#on_record</a>
            </div>
          

          
          <div class="method-source-code" id="on_record-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_record</span>(<span class="ruby-identifier">test</span>)
  <span class="ruby-keyword">super</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:show_progress</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-on_report" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">on_report</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-i-on_report">Minitest::Reporters::DefaultReporter#on_report</a>
            </div>
          

          
          <div class="method-source-code" id="on_report-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_report</span>
  <span class="ruby-keyword">super</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:show_progress</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-on_start" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">on_start</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-i-on_start">Minitest::Reporters::DefaultReporter#on_start</a>
            </div>
          

          
          <div class="method-source-code" id="on_start-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_start</span>
  <span class="ruby-keyword">super</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:show_progress</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-report" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">report</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Runs the {Minitest::Reporters::DefaultReporter#report} method and then
enhances it by storing the results to the &#39;previous_runs_filename&#39;
and outputs the parsed results to both the &#39;report_filename&#39; and
the terminal.</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="DefaultReporter.html#method-i-report">Minitest::Reporters::DefaultReporter#report</a>
            </div>
          

          
          <div class="method-source-code" id="report-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">report</span>
  <span class="ruby-keyword">super</span>

  <span class="ruby-identifier">create_or_update_previous_runs!</span>

  <span class="ruby-identifier">create_new_report!</span>

  <span class="ruby-identifier">write_to_screen!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reset_statistics-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reset_statistics!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Resets the &#39;previous runs&#39; file, essentially removing all previous
statistics gathered.</p>

<p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="reset_statistics-21-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reset_statistics!</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">previous_runs_filename</span>, <span class="ruby-string">&#39;w+&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&#39;&#39;</span>) }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-asc-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">asc?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Boolean] Whether the given :order option is :asc.</p>
          
          

          
          <div class="method-source-code" id="asc-3F-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 349</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">asc?</span>
  <span class="ruby-identifier">order</span> <span class="ruby-operator">==</span> <span class="ruby-value">:asc</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-avg_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">avg_label</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] A yellow &#39;Avg:&#39; label.</p>
          
          

          
          <div class="method-source-code" id="avg_label-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">avg_label</span>
  <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">yellow</span>(<span class="ruby-string">&#39;Avg:&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-column_sorted_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">column_sorted_body</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Array&lt;Hash&lt;Symbol =&gt; String&gt;&gt;] All of the results
sorted by</p>

<pre>the :sort_column option. (Defaults to :avg).</pre>
          
          

          
          <div class="method-source-code" id="column_sorted_body-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">column_sorted_body</span>
  <span class="ruby-identifier">runs</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:show_all_runs</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">previous_run</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">current_run</span>
  <span class="ruby-identifier">runs</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each_with_object</span>([]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">description</span>, <span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">timings</span> = <span class="ruby-identifier">previous_run</span>[<span class="ruby-identifier">description</span>]
    <span class="ruby-identifier">size</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">timings</span>).<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">sum</span>  = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">timings</span>).<span class="ruby-identifier">inject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">total</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">total</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span> }
    <span class="ruby-identifier">obj</span> <span class="ruby-operator">&lt;&lt;</span> {
      <span class="ruby-identifier">avg</span><span class="ruby-operator">:</span>  (<span class="ruby-identifier">sum</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">size</span>).<span class="ruby-identifier">round</span>(<span class="ruby-value">9</span>),
      <span class="ruby-identifier">min</span><span class="ruby-operator">:</span>  <span class="ruby-constant">Array</span>(<span class="ruby-identifier">timings</span>).<span class="ruby-identifier">min</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">9</span>),
      <span class="ruby-identifier">max</span><span class="ruby-operator">:</span>  <span class="ruby-constant">Array</span>(<span class="ruby-identifier">timings</span>).<span class="ruby-identifier">max</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">9</span>),
      <span class="ruby-identifier">last</span><span class="ruby-operator">:</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">timings</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">9</span>),
      <span class="ruby-identifier">desc</span><span class="ruby-operator">:</span> <span class="ruby-identifier">description</span>,
    }
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>[<span class="ruby-identifier">sort_column</span>] }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-create_new_report-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_new_report!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a new report file in the &#39;report_filename&#39;. This file
contains a line for each test of the following example format: (this is a
single line despite explicit wrapping)</p>

<p>Avg: 0.0555555 Min: 0.0498765 Max: 0.0612345 Last: 0.0499421 Description:
The test name</p>

<p>Note however the timings are to 9 decimal places, and padded to 12
characters and each label is coloured, Avg (yellow), Min (green), Max
(red), Last (multi), and Description (blue). It looks pretty!</p>

<p>The &#39;Last&#39; label is special in that it will be colour coded
depending on whether the last run was faster (bright green) or slower
(bright red) or inconclusive (purple). This helps to identify changes on a
per run basis.</p>

<p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="create_new_report-21-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_new_report!</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">report_filename</span>, <span class="ruby-identifier">report_title</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">report_body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-create_or_update_previous_runs-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_or_update_previous_runs!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a new &#39;previous runs&#39; file, or updates the existing one
with the latest timings.</p>

<p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="create_or_update_previous_runs-21-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_or_update_previous_runs!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">previously_ran?</span>
    <span class="ruby-identifier">current_run</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">description</span>, <span class="ruby-identifier">elapsed</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">new_times</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">previous_run</span>[<span class="ruby-node">&quot;#{description}&quot;</span>]
                  <span class="ruby-constant">Array</span>(<span class="ruby-identifier">previous_run</span>[<span class="ruby-node">&quot;#{description}&quot;</span>]) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">elapsed</span>

                <span class="ruby-keyword">else</span>
                  <span class="ruby-constant">Array</span>(<span class="ruby-identifier">elapsed</span>)

                <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">previous_run</span>.<span class="ruby-identifier">store</span>(<span class="ruby-node">&quot;#{description}&quot;</span>, <span class="ruby-identifier">new_times</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">previous_runs_filename</span>, <span class="ruby-identifier">previous_run</span>.<span class="ruby-identifier">to_yaml</span>)

  <span class="ruby-keyword">else</span>

    <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">previous_runs_filename</span>, <span class="ruby-identifier">current_run</span>.<span class="ruby-identifier">to_yaml</span>)

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-current_run" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current_run</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash&lt;String =&gt; Float&gt;]</p>
          
          

          
          <div class="method-source-code" id="current_run-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">current_run</span>
  <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">all_suite_times</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-defaults" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">defaults</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash] Sets default values for the filenames used by this class,</p>

<pre>and the number of tests to output to output to the screen after each
run.</pre>
          
          

          
          <div class="method-source-code" id="defaults-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">defaults</span>
  {
    <span class="ruby-identifier">order</span><span class="ruby-operator">:</span>                  <span class="ruby-value">:desc</span>,
    <span class="ruby-identifier">show_count</span><span class="ruby-operator">:</span>             <span class="ruby-value">15</span>,
    <span class="ruby-identifier">show_progress</span><span class="ruby-operator">:</span>          <span class="ruby-keyword">true</span>,
    <span class="ruby-identifier">show_all_runs</span><span class="ruby-operator">:</span>          <span class="ruby-keyword">true</span>,
    <span class="ruby-identifier">sort_column</span><span class="ruby-operator">:</span>            <span class="ruby-value">:avg</span>,
    <span class="ruby-identifier">previous_runs_filename</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;/tmp/minitest_reporters_previous_run&#39;</span>,
    <span class="ruby-identifier">report_filename</span><span class="ruby-operator">:</span>        <span class="ruby-string">&#39;/tmp/minitest_reporters_report&#39;</span>,
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-des_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">des_label</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] A blue &#39;Description:&#39; label.</p>
          
          

          
          <div class="method-source-code" id="des_label-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">des_label</span>
  <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">blue</span>(<span class="ruby-string">&#39;Description:&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-desc-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">desc?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Boolean] Whether the given :order option is :desc (default).</p>
          
          

          
          <div class="method-source-code" id="desc-3F-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 354</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">desc?</span>
  <span class="ruby-identifier">order</span> <span class="ruby-operator">==</span> <span class="ruby-value">:desc</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-max_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">max_label</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] A red &#39;Max:&#39; label.</p>
          
          

          
          <div class="method-source-code" id="max_label-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">max_label</span>
  <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">red</span>(<span class="ruby-string">&#39;Max:&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-min_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">min_label</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] A green &#39;Min:&#39; label.</p>
          
          

          
          <div class="method-source-code" id="min_label-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 319</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">min_label</span>
  <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">green</span>(<span class="ruby-string">&#39;Min:&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash]</p>
          
          

          
          <div class="method-source-code" id="options-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">options</span>
  <span class="ruby-identifier">defaults</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-ivar">@options</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-order" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">order</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@raise [Minitest::Reporters::MeanTimeReporter::InvalidOrder]</p>

<pre>When the given :order option is invalid.</pre>

<p>@return [Symbol] The :order option, or by default; :desc.</p>
          
          

          
          <div class="method-source-code" id="order-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">order</span>
  <span class="ruby-identifier">orders</span> = [<span class="ruby-value">:desc</span>, <span class="ruby-value">:asc</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">orders</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:order</span>])
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:order</span>]

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">Minitest</span><span class="ruby-operator">::</span><span class="ruby-constant">Reporters</span><span class="ruby-operator">::</span><span class="ruby-constant">MeanTimeReporter</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidOrder</span>,
         <span class="ruby-node">&quot;`:order` option must be one of #{orders.inspect}.&quot;</span>

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-order_sorted_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">order_sorted_body</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] All of the column-sorted results sorted by the :order</p>

<pre>option. (Defaults to :desc).</pre>
          
          

          
          <div class="method-source-code" id="order_sorted_body-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">order_sorted_body</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">desc?</span>
    <span class="ruby-identifier">column_sorted_body</span>.<span class="ruby-identifier">reverse</span>

  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">asc?</span>
    <span class="ruby-identifier">column_sorted_body</span>

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-previous_run" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">previous_run</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Hash&lt;String =&gt; Array&lt;Float&gt;]</p>
          
          

          
          <div class="method-source-code" id="previous_run-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">previous_run</span>
  <span class="ruby-ivar">@previous_run</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load_file</span>(<span class="ruby-identifier">previous_runs_filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-previous_runs_filename" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">previous_runs_filename</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] The path to the file which contains all the durations</p>

<pre>for each test run. The previous runs file is in YAML format, using the
test name for the key and an array containing the time taken to run
this test for values.</pre>
          
          

          
          <div class="method-source-code" id="previous_runs_filename-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">previous_runs_filename</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:previous_runs_filename</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-previously_ran-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">previously_ran?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a boolean indicating whether a previous runs file exists.</p>

<p>@return [Boolean]</p>
          
          

          
          <div class="method-source-code" id="previously_ran-3F-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">previously_ran?</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">previous_runs_filename</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rate</span><span
            class="method-args">(run, min, max)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param run [Float] The last run time. @param min [Float] The minimum run
time. @param max [Float] The maximum run time. @return [Symbol] One of
:faster, :slower or :inconclusive.</p>
          
          

          
          <div class="method-source-code" id="rate-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 338</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rate</span>(<span class="ruby-identifier">run</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">run</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">min</span>
    <span class="ruby-value">:faster</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">run</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">max</span>
    <span class="ruby-value">:slower</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:inconclusive</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-report_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">report_body</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The report itself. Displays statistics about all runs, ideal for use with
the Unix &#39;head&#39; command. Listed in slowest average descending
order.</p>

<p>@return [String]</p>
          
          

          
          <div class="method-source-code" id="report_body-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">report_body</span>
  <span class="ruby-identifier">order_sorted_body</span>.<span class="ruby-identifier">each_with_object</span>([]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span>, <span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">rating</span> = <span class="ruby-identifier">rate</span>(<span class="ruby-identifier">result</span>[<span class="ruby-value">:last</span>], <span class="ruby-identifier">result</span>[<span class="ruby-value">:min</span>], <span class="ruby-identifier">result</span>[<span class="ruby-value">:max</span>])

    <span class="ruby-identifier">obj</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{avg_label} #{result[:avg].to_s.ljust(12)} &quot;</span>                   <span class="ruby-node">&quot;#{min_label} #{result[:min].to_s.ljust(12)} &quot;</span>                   <span class="ruby-node">&quot;#{max_label} #{result[:max].to_s.ljust(12)} &quot;</span>                   <span class="ruby-node">&quot;#{run_label(rating)} #{result[:last].to_s.ljust(12)} &quot;</span>                   <span class="ruby-node">&quot;#{des_label} #{result[:desc]}\n&quot;</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-report_filename" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">report_filename</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] The path to the file which contains the parsed test</p>

<pre>results. The results file contains a line for each test with the
average time of the test, the minimum time the test took to run,
the maximum time the test took to run and a description of the test
(which is the test name as emitted by Minitest).</pre>
          
          

          
          <div class="method-source-code" id="report_filename-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">report_filename</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:report_filename</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-report_title" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">report_title</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Added to the top of the report file and to the screen output.</p>

<p>@return [String]</p>
          
          

          
          <div class="method-source-code" id="report_title-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">report_title</span>
  <span class="ruby-string">&quot;\n\e[4mMinitest Reporters: Mean Time Report\e[24m &quot;</span>          <span class="ruby-node">&quot;(Samples: #{samples}, Order: #{sort_column.inspect} &quot;</span>          <span class="ruby-node">&quot;#{order.inspect})\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-run_label" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_label</span><span
            class="method-args">(rating)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param rating [Symbol] One of :faster, :slower or :inconclusive. @return
[String] A purple &#39;Last:&#39; label.</p>
          
          

          
          <div class="method-source-code" id="run_label-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 325</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_label</span>(<span class="ruby-identifier">rating</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">rating</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:faster</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">green</span>(<span class="ruby-string">&#39;Last:&#39;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-value">:slower</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">red</span>(<span class="ruby-string">&#39;Last:&#39;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">ANSI</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">magenta</span>(<span class="ruby-string">&#39;Last:&#39;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-samples" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">samples</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>A barbaric way to find out how many runs are in the previous runs file;
this method takes the first test listed, and counts its samples trusting
(naively) all runs to be the same number of samples. This will produce
incorrect averages when new tests are added, so it is advised to restart
the statistics by removing the &#39;previous runs&#39; file. A rake task is
provided to make this more convenient.</p>

<pre class="ruby"><span class="ruby-identifier">rake</span> <span class="ruby-identifier">reset_statistics</span>
</pre>

<p>@return [Fixnum]</p>
          
          

          
          <div class="method-source-code" id="samples-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">samples</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">1</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">previous_run</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)

  <span class="ruby-identifier">previous_run</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-show_count" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">show_count</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Fixnum] The number of tests to output to output to the screen</p>

<pre>after each run.</pre>
          
          

          
          <div class="method-source-code" id="show_count-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">show_count</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:show_count</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sort_column" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sort_column</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@raise [Minitest::Reporters::MeanTimeReporter::InvalidSortColumn]</p>

<pre>When the given :sort_column option is invalid.</pre>

<p>@return [Symbol] The :sort_column option, or by default; :avg.</p>
          
          

          
          <div class="method-source-code" id="sort_column-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sort_column</span>
  <span class="ruby-identifier">sort_columns</span> = [<span class="ruby-value">:avg</span>, <span class="ruby-value">:min</span>, <span class="ruby-value">:max</span>, <span class="ruby-value">:last</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sort_columns</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:sort_column</span>])
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:sort_column</span>]

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">Minitest</span><span class="ruby-operator">::</span><span class="ruby-constant">Reporters</span><span class="ruby-operator">::</span><span class="ruby-constant">MeanTimeReporter</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidSortColumn</span>,
         <span class="ruby-node">&quot;`:sort_column` option must be one of #{sort_columns.inspect}.&quot;</span>

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-write_to_screen-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">write_to_screen!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Writes a number of tests (configured via the &#39;show_count&#39; option)
to the screen after creating the report. See &#39;#create_new_report!&#39;
for example output information.</p>

<p>@return [void]</p>
          
          

          
          <div class="method-source-code" id="write_to_screen-21-source">
            <pre><span class="ruby-comment"># File lib/minitest/reporters/mean_time_reporter.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_to_screen!</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">report_title</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">report_body</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">take</span>(<span class="ruby-identifier">show_count</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

