<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Parser::Builders::Default - parser-2.4.0.2 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-modernize">::modernize</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-__ENCODING__">#__ENCODING__</a>
    
    <li ><a href="#method-i-__FILE__">#__FILE__</a>
    
    <li ><a href="#method-i-__LINE__">#__LINE__</a>
    
    <li ><a href="#method-i-accessible">#accessible</a>
    
    <li ><a href="#method-i-alias">#alias</a>
    
    <li ><a href="#method-i-arg">#arg</a>
    
    <li ><a href="#method-i-arg_expr">#arg_expr</a>
    
    <li ><a href="#method-i-arg_name_collides-3F">#arg_name_collides?</a>
    
    <li ><a href="#method-i-arg_prefix_map">#arg_prefix_map</a>
    
    <li ><a href="#method-i-args">#args</a>
    
    <li ><a href="#method-i-array">#array</a>
    
    <li ><a href="#method-i-assign">#assign</a>
    
    <li ><a href="#method-i-assignable">#assignable</a>
    
    <li ><a href="#method-i-associate">#associate</a>
    
    <li ><a href="#method-i-attr_asgn">#attr_asgn</a>
    
    <li ><a href="#method-i-back_ref">#back_ref</a>
    
    <li ><a href="#method-i-begin">#begin</a>
    
    <li ><a href="#method-i-begin_body">#begin_body</a>
    
    <li ><a href="#method-i-begin_keyword">#begin_keyword</a>
    
    <li ><a href="#method-i-binary_op">#binary_op</a>
    
    <li ><a href="#method-i-binary_op_map">#binary_op_map</a>
    
    <li ><a href="#method-i-block">#block</a>
    
    <li ><a href="#method-i-block_map">#block_map</a>
    
    <li ><a href="#method-i-block_pass">#block_pass</a>
    
    <li ><a href="#method-i-blockarg">#blockarg</a>
    
    <li ><a href="#method-i-blockarg_expr">#blockarg_expr</a>
    
    <li ><a href="#method-i-call_lambda">#call_lambda</a>
    
    <li ><a href="#method-i-call_method">#call_method</a>
    
    <li ><a href="#method-i-call_type_for_dot">#call_type_for_dot</a>
    
    <li ><a href="#method-i-case">#case</a>
    
    <li ><a href="#method-i-character">#character</a>
    
    <li ><a href="#method-i-check_condition">#check_condition</a>
    
    <li ><a href="#method-i-check_duplicate_args">#check_duplicate_args</a>
    
    <li ><a href="#method-i-collapse_string_parts-3F">#collapse_string_parts?</a>
    
    <li ><a href="#method-i-collection_map">#collection_map</a>
    
    <li ><a href="#method-i-complex">#complex</a>
    
    <li ><a href="#method-i-compstmt">#compstmt</a>
    
    <li ><a href="#method-i-condition">#condition</a>
    
    <li ><a href="#method-i-condition_map">#condition_map</a>
    
    <li ><a href="#method-i-condition_mod">#condition_mod</a>
    
    <li ><a href="#method-i-const">#const</a>
    
    <li ><a href="#method-i-const_fetch">#const_fetch</a>
    
    <li ><a href="#method-i-const_global">#const_global</a>
    
    <li ><a href="#method-i-const_op_assignable">#const_op_assignable</a>
    
    <li ><a href="#method-i-constant_map">#constant_map</a>
    
    <li ><a href="#method-i-cvar">#cvar</a>
    
    <li ><a href="#method-i-dedent_string">#dedent_string</a>
    
    <li ><a href="#method-i-def_class">#def_class</a>
    
    <li ><a href="#method-i-def_method">#def_method</a>
    
    <li ><a href="#method-i-def_module">#def_module</a>
    
    <li ><a href="#method-i-def_sclass">#def_sclass</a>
    
    <li ><a href="#method-i-def_singleton">#def_singleton</a>
    
    <li ><a href="#method-i-definition_map">#definition_map</a>
    
    <li ><a href="#method-i-delimited_string_map">#delimited_string_map</a>
    
    <li ><a href="#method-i-diagnostic">#diagnostic</a>
    
    <li ><a href="#method-i-eh_keyword_map">#eh_keyword_map</a>
    
    <li ><a href="#method-i-expr_map">#expr_map</a>
    
    <li ><a href="#method-i-false">#false</a>
    
    <li ><a href="#method-i-float">#float</a>
    
    <li ><a href="#method-i-for">#for</a>
    
    <li ><a href="#method-i-for_map">#for_map</a>
    
    <li ><a href="#method-i-gvar">#gvar</a>
    
    <li ><a href="#method-i-ident">#ident</a>
    
    <li ><a href="#method-i-index">#index</a>
    
    <li ><a href="#method-i-index_asgn">#index_asgn</a>
    
    <li ><a href="#method-i-integer">#integer</a>
    
    <li ><a href="#method-i-ivar">#ivar</a>
    
    <li ><a href="#method-i-join_exprs">#join_exprs</a>
    
    <li ><a href="#method-i-keyword_cmd">#keyword_cmd</a>
    
    <li ><a href="#method-i-keyword_map">#keyword_map</a>
    
    <li ><a href="#method-i-keyword_mod_map">#keyword_mod_map</a>
    
    <li ><a href="#method-i-kwarg">#kwarg</a>
    
    <li ><a href="#method-i-kwarg_map">#kwarg_map</a>
    
    <li ><a href="#method-i-kwoptarg">#kwoptarg</a>
    
    <li ><a href="#method-i-kwrestarg">#kwrestarg</a>
    
    <li ><a href="#method-i-kwsplat">#kwsplat</a>
    
    <li ><a href="#method-i-loc">#loc</a>
    
    <li ><a href="#method-i-logical_op">#logical_op</a>
    
    <li ><a href="#method-i-loop">#loop</a>
    
    <li ><a href="#method-i-loop_mod">#loop_mod</a>
    
    <li ><a href="#method-i-match_op">#match_op</a>
    
    <li ><a href="#method-i-module_definition_map">#module_definition_map</a>
    
    <li ><a href="#method-i-multi_assign">#multi_assign</a>
    
    <li ><a href="#method-i-multi_lhs">#multi_lhs</a>
    
    <li ><a href="#method-i-n">#n</a>
    
    <li ><a href="#method-i-n0">#n0</a>
    
    <li ><a href="#method-i-nil">#nil</a>
    
    <li ><a href="#method-i-not_op">#not_op</a>
    
    <li ><a href="#method-i-nth_ref">#nth_ref</a>
    
    <li ><a href="#method-i-numeric">#numeric</a>
    
    <li ><a href="#method-i-objc_kwarg">#objc_kwarg</a>
    
    <li ><a href="#method-i-objc_restarg">#objc_restarg</a>
    
    <li ><a href="#method-i-objc_varargs">#objc_varargs</a>
    
    <li ><a href="#method-i-op_assign">#op_assign</a>
    
    <li ><a href="#method-i-optarg">#optarg</a>
    
    <li ><a href="#method-i-pair">#pair</a>
    
    <li ><a href="#method-i-pair_keyword">#pair_keyword</a>
    
    <li ><a href="#method-i-pair_keyword_map">#pair_keyword_map</a>
    
    <li ><a href="#method-i-pair_list_18">#pair_list_18</a>
    
    <li ><a href="#method-i-pair_quoted">#pair_quoted</a>
    
    <li ><a href="#method-i-pair_quoted_map">#pair_quoted_map</a>
    
    <li ><a href="#method-i-postexe">#postexe</a>
    
    <li ><a href="#method-i-preexe">#preexe</a>
    
    <li ><a href="#method-i-prefix_string_map">#prefix_string_map</a>
    
    <li ><a href="#method-i-procarg0">#procarg0</a>
    
    <li ><a href="#method-i-range_exclusive">#range_exclusive</a>
    
    <li ><a href="#method-i-range_inclusive">#range_inclusive</a>
    
    <li ><a href="#method-i-rational">#rational</a>
    
    <li ><a href="#method-i-regexp_compose">#regexp_compose</a>
    
    <li ><a href="#method-i-regexp_map">#regexp_map</a>
    
    <li ><a href="#method-i-regexp_options">#regexp_options</a>
    
    <li ><a href="#method-i-rescue_body">#rescue_body</a>
    
    <li ><a href="#method-i-rescue_body_map">#rescue_body_map</a>
    
    <li ><a href="#method-i-restarg">#restarg</a>
    
    <li ><a href="#method-i-restarg_expr">#restarg_expr</a>
    
    <li ><a href="#method-i-self">#self</a>
    
    <li ><a href="#method-i-send_binary_op_map">#send_binary_op_map</a>
    
    <li ><a href="#method-i-send_index_map">#send_index_map</a>
    
    <li ><a href="#method-i-send_map">#send_map</a>
    
    <li ><a href="#method-i-send_unary_op_map">#send_unary_op_map</a>
    
    <li ><a href="#method-i-shadowarg">#shadowarg</a>
    
    <li ><a href="#method-i-splat">#splat</a>
    
    <li ><a href="#method-i-static_regexp">#static_regexp</a>
    
    <li ><a href="#method-i-static_regexp_node">#static_regexp_node</a>
    
    <li ><a href="#method-i-static_string">#static_string</a>
    
    <li ><a href="#method-i-string">#string</a>
    
    <li ><a href="#method-i-string_compose">#string_compose</a>
    
    <li ><a href="#method-i-string_internal">#string_internal</a>
    
    <li ><a href="#method-i-string_map">#string_map</a>
    
    <li ><a href="#method-i-string_value">#string_value</a>
    
    <li ><a href="#method-i-symbol">#symbol</a>
    
    <li ><a href="#method-i-symbol_compose">#symbol_compose</a>
    
    <li ><a href="#method-i-symbol_internal">#symbol_internal</a>
    
    <li ><a href="#method-i-symbols_compose">#symbols_compose</a>
    
    <li ><a href="#method-i-ternary">#ternary</a>
    
    <li ><a href="#method-i-ternary_map">#ternary_map</a>
    
    <li ><a href="#method-i-token_map">#token_map</a>
    
    <li ><a href="#method-i-true">#true</a>
    
    <li ><a href="#method-i-unary_num">#unary_num</a>
    
    <li ><a href="#method-i-unary_op">#unary_op</a>
    
    <li ><a href="#method-i-unary_op_map">#unary_op_map</a>
    
    <li ><a href="#method-i-undef_method">#undef_method</a>
    
    <li ><a href="#method-i-unquoted_map">#unquoted_map</a>
    
    <li ><a href="#method-i-value">#value</a>
    
    <li ><a href="#method-i-var_send_map">#var_send_map</a>
    
    <li ><a href="#method-i-variable_map">#variable_map</a>
    
    <li ><a href="#method-i-when">#when</a>
    
    <li ><a href="#method-i-word">#word</a>
    
    <li ><a href="#method-i-words_compose">#words_compose</a>
    
    <li ><a href="#method-i-xstring_compose">#xstring_compose</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Parser::Builders::Default">
  <h1 id="class-Parser::Builders::Default" class="class">
    class Parser::Builders::Default
  </h1>

  <section class="description">
    
<p><a href="Default.html">Default</a> <a href="../AST.html">AST</a> builder.
Uses {AST::Node}s.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-c-emit_lambda" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">emit_lambda</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p><a href="../AST.html">AST</a> compatibility attribute; since `-&gt; {}` is
not semantically equivalent to `lambda {}`, all new code should set this
attribute to true.</p>

<p>If set to false (the default), `-&gt; {}` is emitted as `s(:block, s(:send,
nil, :lambda), s(:args), nil)`.</p>

<p>If set to true, `-&gt; {}` is emitted as `s(:block, s(:lambda), s(:args),
nil)`.</p>

<p>@return [Boolean]</p>
        
        </div>
      </div>
      
      <div id="attribute-c-emit_procarg0" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">emit_procarg0</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p><a href="../AST.html">AST</a> compatibility attribute; block arguments of
`m { |a| }` are not semantically equivalent to block arguments of `m { |a,|
}` or `m { |a, b| }`, all new code should set this attribute to true.</p>

<p>If set to false (the default), arguments of `m { |a| }` are emitted as
`s(:args, s(:arg, :a))`</p>

<p>If set to true, arguments of `m { |a| }` are emitted as `s(:args,
s(:procarg0, :a))</p>

<p>@return [Boolean]</p>
        
        </div>
      </div>
      
      <div id="attribute-i-emit_file_line_as_literals" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">emit_file_line_as_literals</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>If set to true, `__FILE__` and `__LINE__` are transformed to literal nodes.
For example, `s(:str, “lib/foo.rb”)` and `s(:int, 10)`.</p>

<p>If set to false, `__FILE__` and `__LINE__` are emitted as-is, i.e. as
`s(:__FILE__)` and `s(:__LINE__)` nodes.</p>

<p><a href="../Source.html">Source</a> maps are identical in both cases.</p>

<p>@return [Boolean]</p>
        
        </div>
      </div>
      
      <div id="attribute-i-parser" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">parser</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>@api private</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-modernize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">modernize</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@api private</p>
          
          

          
          <div class="method-source-code" id="modernize-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 46</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">modernize</span>
  <span class="ruby-ivar">@emit_lambda</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@emit_procarg0</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Initializes attributes:</p>

<pre>* `emit_file_line_as_literals`: `true`</pre>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-ivar">@emit_file_line_as_literals</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-__ENCODING__" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">__ENCODING__</span><span
            class="method-args">(__ENCODING__t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="__ENCODING__-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 461</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">__ENCODING__</span>(<span class="ruby-identifier">__ENCODING__t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:__ENCODING__</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">__ENCODING__t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-__FILE__" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">__FILE__</span><span
            class="method-args">(__FILE__t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="__FILE__-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 177</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">__FILE__</span>(<span class="ruby-identifier">__FILE__t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:__FILE__</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">__FILE__t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-__LINE__" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">__LINE__</span><span
            class="method-args">(__LINE__t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="__LINE__-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">__LINE__</span>(<span class="ruby-identifier">__LINE__t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:__LINE__</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">__LINE__t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-accessible" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accessible</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="accessible-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accessible</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:__FILE__</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@emit_file_line_as_literals</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:str</span>, [ <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">source_buffer</span>.<span class="ruby-identifier">name</span> ],
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">node</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:__LINE__</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@emit_file_line_as_literals</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:int</span>, [ <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">line</span> ],
        <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">node</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:__ENCODING__</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:const</span>, [ <span class="ruby-identifier">n</span>(<span class="ruby-value">:const</span>, [ <span class="ruby-keyword">nil</span>, <span class="ruby-value">:Encoding</span>], <span class="ruby-keyword">nil</span>), <span class="ruby-value">:UTF_8</span> ],
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:ident</span>
    <span class="ruby-identifier">name</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">node</span>

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">static_env</span>.<span class="ruby-identifier">declared?</span>(<span class="ruby-identifier">name</span>)
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:lvar</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">name</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">node</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">name</span> ],
        <span class="ruby-identifier">var_send_map</span>(<span class="ruby-identifier">node</span>))
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">node</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-alias" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">alias</span><span
            class="method-args">(alias_t, to, from)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="alias-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 599</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">alias</span>(<span class="ruby-identifier">alias_t</span>, <span class="ruby-identifier">to</span>, <span class="ruby-identifier">from</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:alias</span>, [ <span class="ruby-identifier">to</span>, <span class="ruby-identifier">from</span> ],
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">alias_t</span>, <span class="ruby-keyword">nil</span>, [<span class="ruby-identifier">to</span>, <span class="ruby-identifier">from</span>], <span class="ruby-keyword">nil</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-arg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">arg</span><span
            class="method-args">(name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="arg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 614</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arg</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:arg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-arg_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">arg_expr</span><span
            class="method-args">(expr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ruby 1.8 block arguments</p>
          
          

          
          <div class="method-source-code" id="arg_expr-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arg_expr</span>(<span class="ruby-identifier">expr</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:lvasgn</span>
    <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:arg</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:arg_expr</span>, [ <span class="ruby-identifier">expr</span> ],
      <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">args</span><span
            class="method-args">(begin_t, args, end_t, check_args=true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Formal arguments</p>
          
          

          
          <div class="method-source-code" id="args-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 608</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">args</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">check_args</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">args</span> = <span class="ruby-identifier">check_duplicate_args</span>(<span class="ruby-identifier">args</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_args</span>
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:args</span>, <span class="ruby-identifier">args</span>,
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-array" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">array</span><span
            class="method-args">(begin_t, elements, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Arrays</p>
          
          

          
          <div class="method-source-code" id="array-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 264</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">array</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">elements</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:array</span>, <span class="ruby-identifier">elements</span>,
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">elements</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-assign" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assign</span><span
            class="method-args">(lhs, eql_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="assign-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 507</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assign</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">eql_t</span>, <span class="ruby-identifier">rhs</span>)
  (<span class="ruby-identifier">lhs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rhs</span>).<span class="ruby-identifier">updated</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
    <span class="ruby-value">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">lhs</span>.<span class="ruby-identifier">loc</span>.
      <span class="ruby-identifier">with_operator</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">eql_t</span>)).
      <span class="ruby-identifier">with_expression</span>(<span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-assignable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assignable</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Assignment</p>
          
          

          
          <div class="method-source-code" id="assignable-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 470</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assignable</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:cvar</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:cvasgn</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:ivar</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:ivasgn</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:gvar</span>
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:gvasgn</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:const</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">in_def?</span>
      <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:dynamic_const</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:casgn</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:ident</span>
    <span class="ruby-identifier">name</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">node</span>
    <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">static_env</span>.<span class="ruby-identifier">declare</span>(<span class="ruby-identifier">name</span>)

    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:lvasgn</span>)

  <span class="ruby-keyword">when</span> <span class="ruby-value">:nil</span>, <span class="ruby-value">:self</span>, <span class="ruby-value">:true</span>, <span class="ruby-value">:false</span>,
       <span class="ruby-value">:__FILE__</span>, <span class="ruby-value">:__LINE__</span>, <span class="ruby-value">:__ENCODING__</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:invalid_assignment</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:back_ref</span>, <span class="ruby-value">:nth_ref</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:backref_assignment</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-associate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">associate</span><span
            class="method-args">(begin_t, pairs, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="associate-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 350</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">associate</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">pairs</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:hash</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">pairs</span> ],
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">pairs</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-attr_asgn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attr_asgn</span><span
            class="method-args">(receiver, dot_t, selector_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="attr_asgn-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 816</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attr_asgn</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">selector_t</span>)
  <span class="ruby-identifier">method_name</span> = (<span class="ruby-identifier">value</span>(<span class="ruby-identifier">selector_t</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;=&#39;</span>).<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">type</span> = <span class="ruby-identifier">call_type_for_dot</span>(<span class="ruby-identifier">dot_t</span>)

  <span class="ruby-comment"># Incomplete method call.</span>
  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">method_name</span> ],
    <span class="ruby-identifier">send_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">selector_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-back_ref" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">back_ref</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="back_ref-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">back_ref</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:back_ref</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-begin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">begin</span><span
            class="method-args">(begin_t, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="begin-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1062</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">begin</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-comment"># A nil expression: `()&#39;.</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:begin</span>,
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:mlhs</span>  <span class="ruby-operator">||</span>
       (<span class="ruby-identifier">body</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:begin</span> <span class="ruby-operator">&amp;&amp;</span>
        <span class="ruby-identifier">body</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">begin</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">end</span>.<span class="ruby-identifier">nil?</span>)
    <span class="ruby-comment"># Synthesized (begin) from compstmt &quot;a; b&quot; or (mlhs)</span>
    <span class="ruby-comment"># from multi_lhs &quot;(a, b) = *foo&quot;.</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-identifier">body</span>.<span class="ruby-identifier">type</span>, <span class="ruby-identifier">body</span>.<span class="ruby-identifier">children</span>,
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">body</span>.<span class="ruby-identifier">children</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:begin</span>, [ <span class="ruby-identifier">body</span> ],
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, [ <span class="ruby-identifier">body</span> ], <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-begin_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">begin_body</span><span
            class="method-args">(compound_stmt, rescue_bodies=[], else_t=nil, else_=nil, ensure_t=nil, ensure_=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="begin_body-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1004</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">begin_body</span>(<span class="ruby-identifier">compound_stmt</span>, <span class="ruby-identifier">rescue_bodies</span>=[],
               <span class="ruby-identifier">else_t</span>=<span class="ruby-keyword">nil</span>,    <span class="ruby-identifier">else_</span>=<span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">ensure_t</span>=<span class="ruby-keyword">nil</span>,  <span class="ruby-identifier">ensure_</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rescue_bodies</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">else_t</span>
      <span class="ruby-identifier">compound_stmt</span> =
        <span class="ruby-identifier">n</span>(<span class="ruby-value">:rescue</span>,
          [ <span class="ruby-identifier">compound_stmt</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">rescue_bodies</span> <span class="ruby-operator">+</span> [ <span class="ruby-identifier">else_</span> ]) ],
          <span class="ruby-identifier">eh_keyword_map</span>(<span class="ruby-identifier">compound_stmt</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">rescue_bodies</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">else_</span>))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">compound_stmt</span> =
        <span class="ruby-identifier">n</span>(<span class="ruby-value">:rescue</span>,
          [ <span class="ruby-identifier">compound_stmt</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">rescue_bodies</span> <span class="ruby-operator">+</span> [ <span class="ruby-keyword">nil</span> ]) ],
          <span class="ruby-identifier">eh_keyword_map</span>(<span class="ruby-identifier">compound_stmt</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">rescue_bodies</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">else_t</span>
    <span class="ruby-identifier">statements</span> = []
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">compound_stmt</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">compound_stmt</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:begin</span>
        <span class="ruby-identifier">statements</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">compound_stmt</span>.<span class="ruby-identifier">children</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">statements</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">compound_stmt</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">statements</span>.<span class="ruby-identifier">push</span>(
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:begin</span>, [ <span class="ruby-identifier">else_</span> ],
        <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">else_t</span>, [ <span class="ruby-identifier">else_</span> ], <span class="ruby-keyword">nil</span>)))
    <span class="ruby-identifier">compound_stmt</span> =
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:begin</span>, <span class="ruby-identifier">statements</span>,
        <span class="ruby-identifier">collection_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">statements</span>, <span class="ruby-keyword">nil</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ensure_t</span>
    <span class="ruby-identifier">compound_stmt</span> =
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:ensure</span>,
        [ <span class="ruby-identifier">compound_stmt</span>, <span class="ruby-identifier">ensure_</span> ],
        <span class="ruby-identifier">eh_keyword_map</span>(<span class="ruby-identifier">compound_stmt</span>, <span class="ruby-identifier">ensure_t</span>, [ <span class="ruby-identifier">ensure_</span> ], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">compound_stmt</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-begin_keyword" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">begin_keyword</span><span
            class="method-args">(begin_t, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="begin_keyword-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1080</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">begin_keyword</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-comment"># A nil expression: `begin end&#39;.</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:kwbegin</span>,
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">body</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:begin</span> <span class="ruby-operator">&amp;&amp;</span>
         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">begin</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">end</span>.<span class="ruby-identifier">nil?</span>)
    <span class="ruby-comment"># Synthesized (begin) from compstmt &quot;a; b&quot;.</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwbegin</span>, <span class="ruby-identifier">body</span>.<span class="ruby-identifier">children</span>,
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">body</span>.<span class="ruby-identifier">children</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwbegin</span>, [ <span class="ruby-identifier">body</span> ],
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, [ <span class="ruby-identifier">body</span> ], <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-binary_op" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">binary_op</span><span
            class="method-args">(receiver, operator_t, arg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="binary_op-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 836</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">binary_op</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">operator_t</span>, <span class="ruby-identifier">arg</span>)
  <span class="ruby-identifier">source_map</span> = <span class="ruby-identifier">send_binary_op_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">operator_t</span>, <span class="ruby-identifier">arg</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-value">18</span>
    <span class="ruby-identifier">operator</span> = <span class="ruby-identifier">value</span>(<span class="ruby-identifier">operator_t</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">operator</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;!=&#39;</span>
      <span class="ruby-identifier">method_call</span> = <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:==</span>, <span class="ruby-identifier">arg</span> ], <span class="ruby-identifier">source_map</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">operator</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;!~&#39;</span>
      <span class="ruby-identifier">method_call</span> = <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:=~</span>, <span class="ruby-identifier">arg</span> ], <span class="ruby-identifier">source_map</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-node">%w(!= !~)</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">operator</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">n</span>(<span class="ruby-value">:not</span>, [ <span class="ruby-identifier">method_call</span> ],
               <span class="ruby-identifier">expr_map</span>(<span class="ruby-identifier">source_map</span>.<span class="ruby-identifier">expression</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">operator_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">arg</span> ],
    <span class="ruby-identifier">source_map</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block</span><span
            class="method-args">(method_call, begin_t, args, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="block-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 774</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block</span>(<span class="ruby-identifier">method_call</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">_receiver</span>, <span class="ruby-identifier">_selector</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">call_args</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">method_call</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:yield</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:block_given_to_yield</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">keyword</span>, [<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>)]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">last_arg</span> = <span class="ruby-identifier">call_args</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">last_arg</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">last_arg</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:block_pass</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:block_and_blockarg</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">last_arg</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>, [<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>)]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> [<span class="ruby-value">:send</span>, <span class="ruby-value">:csend</span>, <span class="ruby-value">:super</span>, <span class="ruby-value">:zsuper</span>, <span class="ruby-value">:lambda</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">type</span>)
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:block</span>, [ <span class="ruby-identifier">method_call</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">body</span> ],
      <span class="ruby-identifier">block_map</span>(<span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Code like &quot;return foo 1 do end&quot; is reduced in a weird sequence.</span>
    <span class="ruby-comment"># Here, method_call is actually (return).</span>
    <span class="ruby-identifier">actual_send</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">method_call</span>
    <span class="ruby-identifier">block</span> =
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:block</span>, [ <span class="ruby-identifier">actual_send</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">body</span> ],
        <span class="ruby-identifier">block_map</span>(<span class="ruby-identifier">actual_send</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>))

    <span class="ruby-identifier">n</span>(<span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">block</span> ],
      <span class="ruby-identifier">method_call</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">with_expression</span>(<span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">method_call</span>, <span class="ruby-identifier">block</span>)))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block_pass" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block_pass</span><span
            class="method-args">(amper_t, arg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="block_pass-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 802</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block_pass</span>(<span class="ruby-identifier">amper_t</span>, <span class="ruby-identifier">arg</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:block_pass</span>, [ <span class="ruby-identifier">arg</span> ],
    <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">amper_t</span>, <span class="ruby-identifier">arg</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-blockarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">blockarg</span><span
            class="method-args">(amper_t, name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="blockarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 661</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">blockarg</span>(<span class="ruby-identifier">amper_t</span>, <span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:blockarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">amper_t</span>, <span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-blockarg_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">blockarg_expr</span><span
            class="method-args">(amper_t, expr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="blockarg_expr-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 696</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">blockarg_expr</span>(<span class="ruby-identifier">amper_t</span>, <span class="ruby-identifier">expr</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:lvasgn</span>
    <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:blockarg</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:blockarg_expr</span>, [ <span class="ruby-identifier">expr</span> ],
      <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-call_lambda" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">call_lambda</span><span
            class="method-args">(lambda_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="call_lambda-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 765</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">call_lambda</span>(<span class="ruby-identifier">lambda_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">emit_lambda</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:lambda</span>, <span class="ruby-identifier">expr_map</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">lambda_t</span>)))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-keyword">nil</span>, <span class="ruby-value">:lambda</span> ],
      <span class="ruby-identifier">send_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">lambda_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-call_method" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">call_method</span><span
            class="method-args">(receiver, dot_t, selector_t, lparen_t=nil, args=[], rparen_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="call_method-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">call_method</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">selector_t</span>,
                <span class="ruby-identifier">lparen_t</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">args</span>=[], <span class="ruby-identifier">rparen_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">type</span> = <span class="ruby-identifier">call_type_for_dot</span>(<span class="ruby-identifier">dot_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">selector_t</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:call</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> ],
      <span class="ruby-identifier">send_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">lparen_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">rparen_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">selector_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> ],
      <span class="ruby-identifier">send_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">selector_t</span>, <span class="ruby-identifier">lparen_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">rparen_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-call_type_for_dot" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">call_type_for_dot</span><span
            class="method-args">(dot_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Method calls</p>
          
          

          
          <div class="method-source-code" id="call_type_for_dot-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 737</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">call_type_for_dot</span>(<span class="ruby-identifier">dot_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">dot_t</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">dot_t</span>) <span class="ruby-operator">==</span> <span class="ruby-value">:anddot</span>
    <span class="ruby-value">:csend</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># This case is a bit tricky. ruby23.y returns the token tDOT with</span>
    <span class="ruby-comment"># the value :dot, and the token :tANDDOT with the value :anddot.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># But, ruby{18..22}.y (which unconditionally expect tDOT) just</span>
    <span class="ruby-comment"># return &quot;.&quot; there, since they are to be kept close to the corresponding</span>
    <span class="ruby-comment"># Ruby MRI grammars.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># Thankfully, we don&#39;t have to care.</span>
    <span class="ruby-value">:send</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-case" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">case</span><span
            class="method-args">(case_t, expr, when_bodies, else_t, else_body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="case-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 941</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">case</span>(<span class="ruby-identifier">case_t</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">when_bodies</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">else_body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:case</span>, [ <span class="ruby-identifier">expr</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">when_bodies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">else_body</span>)],
    <span class="ruby-identifier">condition_map</span>(<span class="ruby-identifier">case_t</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">else_body</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-character" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">character</span><span
            class="method-args">(char_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="character-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">character</span>(<span class="ruby-identifier">char_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:str</span>, [ <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">char_t</span>) ],
    <span class="ruby-identifier">prefix_string_map</span>(<span class="ruby-identifier">char_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-complex" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">complex</span><span
            class="method-args">(complex_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="complex-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">complex</span>(<span class="ruby-identifier">complex_t</span>)
  <span class="ruby-identifier">numeric</span>(<span class="ruby-value">:complex</span>, <span class="ruby-identifier">complex_t</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-compstmt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">compstmt</span><span
            class="method-args">(statements)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Expression grouping</p>
          
          

          
          <div class="method-source-code" id="compstmt-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1050</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">compstmt</span>(<span class="ruby-identifier">statements</span>)
  <span class="ruby-keyword">case</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">statements</span>.<span class="ruby-identifier">none?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">statements</span>.<span class="ruby-identifier">one?</span>
    <span class="ruby-identifier">statements</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:begin</span>, <span class="ruby-identifier">statements</span>,
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">statements</span>, <span class="ruby-keyword">nil</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">condition</span><span
            class="method-args">(cond_t, cond, then_t, if_true, else_t, if_false, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Conditionals</p>
          
          

          
          <div class="method-source-code" id="condition-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 917</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">condition</span>(<span class="ruby-identifier">cond_t</span>, <span class="ruby-identifier">cond</span>, <span class="ruby-identifier">then_t</span>,
              <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">if_false</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:if</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>), <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">if_false</span> ],
    <span class="ruby-identifier">condition_map</span>(<span class="ruby-identifier">cond_t</span>, <span class="ruby-identifier">cond</span>, <span class="ruby-identifier">then_t</span>, <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">if_false</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-condition_mod" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">condition_mod</span><span
            class="method-args">(if_true, if_false, cond_t, cond)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="condition_mod-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 923</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">condition_mod</span>(<span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">if_false</span>, <span class="ruby-identifier">cond_t</span>, <span class="ruby-identifier">cond</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:if</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>), <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">if_false</span> ],
    <span class="ruby-identifier">keyword_mod_map</span>(<span class="ruby-identifier">if_true</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">if_false</span>, <span class="ruby-identifier">cond_t</span>, <span class="ruby-identifier">cond</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-const" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const</span><span
            class="method-args">(name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="const-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">const</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:const</span>, [ <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">constant_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-const_fetch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const_fetch</span><span
            class="method-args">(scope, t_colon2, name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="const_fetch-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">const_fetch</span>(<span class="ruby-identifier">scope</span>, <span class="ruby-identifier">t_colon2</span>, <span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:const</span>, [ <span class="ruby-identifier">scope</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">constant_map</span>(<span class="ruby-identifier">scope</span>, <span class="ruby-identifier">t_colon2</span>, <span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-const_global" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const_global</span><span
            class="method-args">(t_colon3, name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="const_global-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 449</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">const_global</span>(<span class="ruby-identifier">t_colon3</span>, <span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">cbase</span> = <span class="ruby-identifier">n0</span>(<span class="ruby-value">:cbase</span>, <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">t_colon3</span>))

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:const</span>, [ <span class="ruby-identifier">cbase</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">constant_map</span>(<span class="ruby-identifier">cbase</span>, <span class="ruby-identifier">t_colon3</span>, <span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-const_op_assignable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const_op_assignable</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="const_op_assignable-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">const_op_assignable</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-identifier">node</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:casgn</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cvar" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cvar</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cvar-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cvar</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:cvar</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-dedent_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dedent_string</span><span
            class="method-args">(node, dedent_level)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Indented (interpolated, noninterpolated, executable) strings</p>
          
          

          
          <div class="method-source-code" id="dedent_string-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dedent_string</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">dedent_level</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">dedent_level</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">dedenter</span> = <span class="ruby-constant">Lexer</span><span class="ruby-operator">::</span><span class="ruby-constant">Dedenter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dedent_level</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:str</span>
      <span class="ruby-identifier">str</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">dedenter</span>.<span class="ruby-identifier">dedent</span>(<span class="ruby-identifier">str</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:dstr</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:xstr</span>
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str_node</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">str_node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:str</span>
          <span class="ruby-identifier">str</span> = <span class="ruby-identifier">str_node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>
          <span class="ruby-identifier">dedenter</span>.<span class="ruby-identifier">dedent</span>(<span class="ruby-identifier">str</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">dedenter</span>.<span class="ruby-identifier">interrupt</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">node</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-def_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">def_class</span><span
            class="method-args">(class_t, name, lt_t, superclass, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Class and module definition</p>
          
          

          
          <div class="method-source-code" id="def_class-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 550</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">def_class</span>(<span class="ruby-identifier">class_t</span>, <span class="ruby-identifier">name</span>,
              <span class="ruby-identifier">lt_t</span>, <span class="ruby-identifier">superclass</span>,
              <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:class</span>, [ <span class="ruby-identifier">name</span>, <span class="ruby-identifier">superclass</span>, <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">module_definition_map</span>(<span class="ruby-identifier">class_t</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">lt_t</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-def_method" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">def_method</span><span
            class="method-args">(def_t, name_t, args, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Method (un)definition</p>
          
          

          
          <div class="method-source-code" id="def_method-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">def_method</span>(<span class="ruby-identifier">def_t</span>, <span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">args</span>,
               <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:def</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">definition_map</span>(<span class="ruby-identifier">def_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-def_module" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">def_module</span><span
            class="method-args">(module_t, name, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="def_module-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">def_module</span>(<span class="ruby-identifier">module_t</span>, <span class="ruby-identifier">name</span>,
               <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:module</span>, [ <span class="ruby-identifier">name</span>, <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">module_definition_map</span>(<span class="ruby-identifier">module_t</span>, <span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-def_sclass" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">def_sclass</span><span
            class="method-args">(class_t, lshft_t, expr, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="def_sclass-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 557</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">def_sclass</span>(<span class="ruby-identifier">class_t</span>, <span class="ruby-identifier">lshft_t</span>, <span class="ruby-identifier">expr</span>,
               <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:sclass</span>, [ <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">module_definition_map</span>(<span class="ruby-identifier">class_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">lshft_t</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-def_singleton" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">def_singleton</span><span
            class="method-args">(def_t, definee, dot_t, name_t, args, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="def_singleton-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 579</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">def_singleton</span>(<span class="ruby-identifier">def_t</span>, <span class="ruby-identifier">definee</span>, <span class="ruby-identifier">dot_t</span>,
                  <span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">args</span>,
                  <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">definee</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:int</span>, <span class="ruby-value">:str</span>, <span class="ruby-value">:dstr</span>, <span class="ruby-value">:sym</span>, <span class="ruby-value">:dsym</span>,
       <span class="ruby-value">:regexp</span>, <span class="ruby-value">:array</span>, <span class="ruby-value">:hash</span>

    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:singleton_literal</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">definee</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:defs</span>, [ <span class="ruby-identifier">definee</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">body</span> ],
      <span class="ruby-identifier">definition_map</span>(<span class="ruby-identifier">def_t</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-false" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">false</span><span
            class="method-args">(false_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="false-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">false</span>(<span class="ruby-identifier">false_t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:false</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">false_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-float" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">float</span><span
            class="method-args">(float_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="float-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">float</span>(<span class="ruby-identifier">float_t</span>)
  <span class="ruby-identifier">numeric</span>(<span class="ruby-value">:float</span>, <span class="ruby-identifier">float_t</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">for</span><span
            class="method-args">(for_t, iterator, in_t, iteratee, do_t, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="for-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 962</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">for</span>(<span class="ruby-identifier">for_t</span>, <span class="ruby-identifier">iterator</span>, <span class="ruby-identifier">in_t</span>, <span class="ruby-identifier">iteratee</span>,
        <span class="ruby-identifier">do_t</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:for</span>, [ <span class="ruby-identifier">iterator</span>, <span class="ruby-identifier">iteratee</span>, <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">for_map</span>(<span class="ruby-identifier">for_t</span>, <span class="ruby-identifier">in_t</span>, <span class="ruby-identifier">do_t</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-gvar" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gvar</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="gvar-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 386</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gvar</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:gvar</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ident" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ident</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ident-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ident</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:ident</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">index</span><span
            class="method-args">(receiver, lbrack_t, indexes, rbrack_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="index-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 825</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">index</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">lbrack_t</span>, <span class="ruby-identifier">indexes</span>, <span class="ruby-identifier">rbrack_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:[]</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">indexes</span> ],
    <span class="ruby-identifier">send_index_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">lbrack_t</span>, <span class="ruby-identifier">rbrack_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-index_asgn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">index_asgn</span><span
            class="method-args">(receiver, lbrack_t, indexes, rbrack_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="index_asgn-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">index_asgn</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">lbrack_t</span>, <span class="ruby-identifier">indexes</span>, <span class="ruby-identifier">rbrack_t</span>)
  <span class="ruby-comment"># Incomplete method call.</span>
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:[]=</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">indexes</span> ],
    <span class="ruby-identifier">send_index_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">lbrack_t</span>, <span class="ruby-identifier">rbrack_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-integer" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">integer</span><span
            class="method-args">(integer_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Numerics</p>
          
          

          
          <div class="method-source-code" id="integer-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">integer</span>(<span class="ruby-identifier">integer_t</span>)
  <span class="ruby-identifier">numeric</span>(<span class="ruby-value">:int</span>, <span class="ruby-identifier">integer_t</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ivar" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ivar</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ivar-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ivar</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:ivar</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-keyword_cmd" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keyword_cmd</span><span
            class="method-args">(type, keyword_t, lparen_t=nil, args=[], rparen_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Keywords</p>
          
          

          
          <div class="method-source-code" id="keyword_cmd-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 970</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keyword_cmd</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">lparen_t</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">args</span>=[], <span class="ruby-identifier">rparen_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:yield</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">last_arg</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">last_arg</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:block_pass</span>
      <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:block_given_to_yield</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), [<span class="ruby-identifier">last_arg</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">args</span>,
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">lparen_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">rparen_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kwarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kwarg</span><span
            class="method-args">(name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="kwarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 636</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kwarg</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">kwarg_map</span>(<span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kwoptarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kwoptarg</span><span
            class="method-args">(name_t, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="kwoptarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 641</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kwoptarg</span>(<span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwoptarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">value</span> ],
    <span class="ruby-identifier">kwarg_map</span>(<span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kwrestarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kwrestarg</span><span
            class="method-args">(dstar_t, name_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="kwrestarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 646</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kwrestarg</span>(<span class="ruby-identifier">dstar_t</span>, <span class="ruby-identifier">name_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name_t</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwrestarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
      <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">dstar_t</span>, <span class="ruby-identifier">name_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:kwrestarg</span>,
      <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">dstar_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kwsplat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kwsplat</span><span
            class="method-args">(dstar_t, arg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="kwsplat-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kwsplat</span>(<span class="ruby-identifier">dstar_t</span>, <span class="ruby-identifier">arg</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:kwsplat</span>, [ <span class="ruby-identifier">arg</span> ],
    <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">dstar_t</span>, <span class="ruby-identifier">arg</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-logical_op" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">logical_op</span><span
            class="method-args">(type, lhs, op_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Logical operations: and, or</p>
          
          

          
          <div class="method-source-code" id="logical_op-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 910</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logical_op</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">rhs</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ],
    <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">rhs</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-loop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">loop</span><span
            class="method-args">(type, keyword_t, cond, do_t, body, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loops</p>
          
          

          
          <div class="method-source-code" id="loop-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 948</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">loop</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">cond</span>, <span class="ruby-identifier">do_t</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>), <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">do_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-loop_mod" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">loop_mod</span><span
            class="method-args">(type, body, keyword_t, cond)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="loop_mod-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 953</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">loop_mod</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">cond</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:kwbegin</span>
    <span class="ruby-identifier">type</span> = <span class="ruby-value">:&quot;#{type}_post&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>), <span class="ruby-identifier">body</span> ],
    <span class="ruby-identifier">keyword_mod_map</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">cond</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-match_op" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match_op</span><span
            class="method-args">(receiver, match_t, arg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="match_op-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 858</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match_op</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">match_t</span>, <span class="ruby-identifier">arg</span>)
  <span class="ruby-identifier">source_map</span> = <span class="ruby-identifier">send_binary_op_map</span>(<span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">match_t</span>, <span class="ruby-identifier">arg</span>)

  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">regexp</span> = <span class="ruby-identifier">static_regexp_node</span>(<span class="ruby-identifier">receiver</span>))
    <span class="ruby-identifier">regexp</span>.<span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">static_env</span>.<span class="ruby-identifier">declare</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">n</span>(<span class="ruby-value">:match_with_lvasgn</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">arg</span> ],
      <span class="ruby-identifier">source_map</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-value">:=~</span>, <span class="ruby-identifier">arg</span> ],
      <span class="ruby-identifier">source_map</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-multi_assign" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">multi_assign</span><span
            class="method-args">(lhs, eql_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="multi_assign-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 541</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">multi_assign</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">eql_t</span>, <span class="ruby-identifier">rhs</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:masgn</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ],
    <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">eql_t</span>, <span class="ruby-identifier">rhs</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-multi_lhs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">multi_lhs</span><span
            class="method-args">(begin_t, items, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="multi_lhs-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 536</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">multi_lhs</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">items</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:mlhs</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">items</span> ],
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">items</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nil</span><span
            class="method-args">(nil_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Singletons</p>
          
          

          
          <div class="method-source-code" id="nil-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">nil</span>(<span class="ruby-identifier">nil_t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:nil</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">nil_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-not_op" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">not_op</span><span
            class="method-args">(not_t, begin_t=nil, receiver=nil, end_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="not_op-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 886</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">not_op</span>(<span class="ruby-identifier">not_t</span>, <span class="ruby-identifier">begin_t</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">receiver</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-value">18</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:not</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">receiver</span>) ],
      <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">not_t</span>, <span class="ruby-identifier">receiver</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">receiver</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">nil_node</span> = <span class="ruby-identifier">n0</span>(<span class="ruby-value">:begin</span>, <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">end_t</span>))

      <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [
        <span class="ruby-identifier">nil_node</span>, <span class="ruby-value">:&#39;!&#39;</span>
      ], <span class="ruby-identifier">send_unary_op_map</span>(<span class="ruby-identifier">not_t</span>, <span class="ruby-identifier">nil_node</span>))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">receiver</span>), <span class="ruby-value">:&#39;!&#39;</span> ],
        <span class="ruby-identifier">send_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">not_t</span>, <span class="ruby-identifier">begin_t</span>, [<span class="ruby-identifier">receiver</span>], <span class="ruby-identifier">end_t</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-nth_ref" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nth_ref</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="nth_ref-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nth_ref</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:nth_ref</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>) ],
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-objc_kwarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">objc_kwarg</span><span
            class="method-args">(kwname_t, assoc_t, name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="../MacRuby.html">MacRuby</a> Objective-C arguments</p>
          
          

          
          <div class="method-source-code" id="objc_kwarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 707</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">objc_kwarg</span>(<span class="ruby-identifier">kwname_t</span>, <span class="ruby-identifier">assoc_t</span>, <span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">kwname_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">kwname_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">assoc_t</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-comment"># a: b, not a =&gt; b</span>
    <span class="ruby-identifier">kwname_l</span>   = <span class="ruby-identifier">kwname_l</span>.<span class="ruby-identifier">resize</span>(<span class="ruby-identifier">kwname_l</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)
    <span class="ruby-identifier">operator_l</span> = <span class="ruby-identifier">kwname_l</span>.<span class="ruby-identifier">end</span>.<span class="ruby-identifier">resize</span>(<span class="ruby-value">1</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">operator_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">assoc_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:objc_kwarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">kwname_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">ObjcKwarg</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">kwname_l</span>, <span class="ruby-identifier">operator_l</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>),
                               <span class="ruby-identifier">kwname_l</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>))))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-objc_restarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">objc_restarg</span><span
            class="method-args">(star_t, name=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="objc_restarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 721</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">objc_restarg</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:restarg</span>, <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">star_t</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:arg</span> <span class="ruby-comment"># regular restarg</span>
    <span class="ruby-identifier">name</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:restarg</span>, <span class="ruby-keyword">nil</span>,
      { <span class="ruby-value">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">with_operator</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">star_t</span>)) })
  <span class="ruby-keyword">else</span> <span class="ruby-comment"># restarg with objc_kwarg inside</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:objc_restarg</span>, [ <span class="ruby-identifier">name</span> ],
      <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">name</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-objc_varargs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">objc_varargs</span><span
            class="method-args">(pair, rest_of_varargs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="objc_varargs-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 807</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">objc_varargs</span>(<span class="ruby-identifier">pair</span>, <span class="ruby-identifier">rest_of_varargs</span>)
  <span class="ruby-identifier">value</span>, <span class="ruby-identifier">first_vararg</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">pair</span>
  <span class="ruby-identifier">vararg_array</span> = <span class="ruby-identifier">array</span>(<span class="ruby-keyword">nil</span>, [ <span class="ruby-identifier">first_vararg</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rest_of_varargs</span> ], <span class="ruby-keyword">nil</span>).
    <span class="ruby-identifier">updated</span>(<span class="ruby-value">:objc_varargs</span>)
  <span class="ruby-identifier">pair</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-keyword">nil</span>, [ <span class="ruby-identifier">value</span>, <span class="ruby-identifier">vararg_array</span> ],
    { <span class="ruby-value">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">pair</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">with_expression</span>(
          <span class="ruby-identifier">pair</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">vararg_array</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)) })
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-op_assign" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">op_assign</span><span
            class="method-args">(lhs, op_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="op_assign-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 514</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">op_assign</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">rhs</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">lhs</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:gvasgn</span>, <span class="ruby-value">:ivasgn</span>, <span class="ruby-value">:lvasgn</span>, <span class="ruby-value">:cvasgn</span>, <span class="ruby-value">:casgn</span>, <span class="ruby-value">:send</span>, <span class="ruby-value">:csend</span>
    <span class="ruby-identifier">operator</span>   = <span class="ruby-identifier">value</span>(<span class="ruby-identifier">op_t</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">to_sym</span>
    <span class="ruby-identifier">source_map</span> = <span class="ruby-identifier">lhs</span>.<span class="ruby-identifier">loc</span>.
                    <span class="ruby-identifier">with_operator</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>)).
                    <span class="ruby-identifier">with_expression</span>(<span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span>))

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">operator</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;&amp;&amp;&#39;</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:and_asgn</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ], <span class="ruby-identifier">source_map</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:&#39;||&#39;</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:or_asgn</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ], <span class="ruby-identifier">source_map</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:op_asgn</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">operator</span>, <span class="ruby-identifier">rhs</span> ], <span class="ruby-identifier">source_map</span>)
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:back_ref</span>, <span class="ruby-value">:nth_ref</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:backref_assignment</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">lhs</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-optarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">optarg</span><span
            class="method-args">(name_t, eql_t, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="optarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 619</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">optarg</span>(<span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">eql_t</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:optarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">value</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">name_t</span>).
      <span class="ruby-identifier">with_operator</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">eql_t</span>)).
      <span class="ruby-identifier">with_expression</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair</span><span
            class="method-args">(key, assoc_t, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Hashes</p>
          
          

          
          <div class="method-source-code" id="pair-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">assoc_t</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:pair</span>, [ <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> ],
    <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">assoc_t</span>, <span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair_keyword" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair_keyword</span><span
            class="method-args">(key_t, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pair_keyword-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair_keyword</span>(<span class="ruby-identifier">key_t</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">key_map</span>, <span class="ruby-identifier">pair_map</span> = <span class="ruby-identifier">pair_keyword_map</span>(<span class="ruby-identifier">key_t</span>, <span class="ruby-identifier">value</span>)

  <span class="ruby-identifier">key</span> = <span class="ruby-identifier">n</span>(<span class="ruby-value">:sym</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">key_t</span>).<span class="ruby-identifier">to_sym</span> ], <span class="ruby-identifier">key_map</span>)

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:pair</span>, [ <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> ], <span class="ruby-identifier">pair_map</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair_list_18" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair_list_18</span><span
            class="method-args">(list)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pair_list_18-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair_list_18</span>(<span class="ruby-identifier">list</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">%</span> <span class="ruby-value">2</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:odd_hash</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">list</span>.
      <span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">n</span>(<span class="ruby-value">:pair</span>, [ <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> ],
          <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">key</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">value</span>))
      <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair_quoted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair_quoted</span><span
            class="method-args">(begin_t, parts, end_t, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pair_quoted-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair_quoted</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">pair_map</span> = <span class="ruby-identifier">pair_quoted_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">value</span>)

  <span class="ruby-identifier">key</span> = <span class="ruby-identifier">symbol_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:pair</span>, [ <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> ], <span class="ruby-identifier">pair_map</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-postexe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">postexe</span><span
            class="method-args">(postexe_t, lbrace_t, compstmt, rbrace_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="postexe-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 989</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">postexe</span>(<span class="ruby-identifier">postexe_t</span>, <span class="ruby-identifier">lbrace_t</span>, <span class="ruby-identifier">compstmt</span>, <span class="ruby-identifier">rbrace_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:postexe</span>, [ <span class="ruby-identifier">compstmt</span> ],
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">postexe_t</span>, <span class="ruby-identifier">lbrace_t</span>, [], <span class="ruby-identifier">rbrace_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-preexe" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">preexe</span><span
            class="method-args">(preexe_t, lbrace_t, compstmt, rbrace_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>BEGIN, END</p>
          
          

          
          <div class="method-source-code" id="preexe-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 984</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">preexe</span>(<span class="ruby-identifier">preexe_t</span>, <span class="ruby-identifier">lbrace_t</span>, <span class="ruby-identifier">compstmt</span>, <span class="ruby-identifier">rbrace_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:preexe</span>, [ <span class="ruby-identifier">compstmt</span> ],
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">preexe_t</span>, <span class="ruby-identifier">lbrace_t</span>, [], <span class="ruby-identifier">rbrace_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-procarg0" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">procarg0</span><span
            class="method-args">(arg)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="procarg0-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 666</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">procarg0</span>(<span class="ruby-identifier">arg</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">emit_procarg0</span>
    <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:procarg0</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">arg</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-range_exclusive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">range_exclusive</span><span
            class="method-args">(lhs, dot3_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="range_exclusive-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 362</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">range_exclusive</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">dot3_t</span>, <span class="ruby-identifier">rhs</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:erange</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ],
    <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">dot3_t</span>, <span class="ruby-identifier">rhs</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-range_inclusive" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">range_inclusive</span><span
            class="method-args">(lhs, dot2_t, rhs)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Ranges</p>
          
          

          
          <div class="method-source-code" id="range_inclusive-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">range_inclusive</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">dot2_t</span>, <span class="ruby-identifier">rhs</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:irange</span>, [ <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> ],
    <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">dot2_t</span>, <span class="ruby-identifier">rhs</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rational" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rational</span><span
            class="method-args">(rational_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rational-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rational</span>(<span class="ruby-identifier">rational_t</span>)
  <span class="ruby-identifier">numeric</span>(<span class="ruby-value">:rational</span>, <span class="ruby-identifier">rational_t</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-regexp_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">regexp_compose</span><span
            class="method-args">(begin_t, parts, end_t, options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="regexp_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">regexp_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">static_regexp</span>(<span class="ruby-identifier">parts</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">RegexpError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:invalid_regexp</span>, { <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span> },
               <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:regexp</span>, (<span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">options</span>),
    <span class="ruby-identifier">regexp_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">options</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-regexp_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">regexp_options</span><span
            class="method-args">(regopt_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Regular expressions</p>
          
          

          
          <div class="method-source-code" id="regexp_options-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">regexp_options</span>(<span class="ruby-identifier">regopt_t</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">value</span>(<span class="ruby-identifier">regopt_t</span>).
    <span class="ruby-identifier">each_char</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">uniq</span>.
    <span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_sym</span>)

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:regopt</span>, <span class="ruby-identifier">options</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">regopt_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rescue_body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rescue_body</span><span
            class="method-args">(rescue_t, exc_list, assoc_t, exc_var, then_t, compound_stmt)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Exception handling</p>
          
          

          
          <div class="method-source-code" id="rescue_body-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 996</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rescue_body</span>(<span class="ruby-identifier">rescue_t</span>,
                <span class="ruby-identifier">exc_list</span>, <span class="ruby-identifier">assoc_t</span>, <span class="ruby-identifier">exc_var</span>,
                <span class="ruby-identifier">then_t</span>, <span class="ruby-identifier">compound_stmt</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:resbody</span>, [ <span class="ruby-identifier">exc_list</span>, <span class="ruby-identifier">exc_var</span>, <span class="ruby-identifier">compound_stmt</span> ],
    <span class="ruby-identifier">rescue_body_map</span>(<span class="ruby-identifier">rescue_t</span>, <span class="ruby-identifier">exc_list</span>, <span class="ruby-identifier">assoc_t</span>,
                    <span class="ruby-identifier">exc_var</span>, <span class="ruby-identifier">then_t</span>, <span class="ruby-identifier">compound_stmt</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-restarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">restarg</span><span
            class="method-args">(star_t, name_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="restarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 626</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restarg</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">name_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name_t</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:restarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
      <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">name_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:restarg</span>,
      <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">star_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-restarg_expr" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">restarg_expr</span><span
            class="method-args">(star_t, expr=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="restarg_expr-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 685</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restarg_expr</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">expr</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:restarg</span>, <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">star_t</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:lvasgn</span>
    <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:restarg</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:restarg_expr</span>, [ <span class="ruby-identifier">expr</span> ],
      <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">dup</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-self" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">self</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Access</p>
          
          

          
          <div class="method-source-code" id="self-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 371</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:self</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-shadowarg" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shadowarg</span><span
            class="method-args">(name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="shadowarg-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 656</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shadowarg</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:shadowarg</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-splat" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">splat</span><span
            class="method-args">(star_t, arg=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="splat-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">splat</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">arg</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">n0</span>(<span class="ruby-value">:splat</span>,
      <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">star_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:splat</span>, [ <span class="ruby-identifier">arg</span> ],
      <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">star_t</span>, <span class="ruby-identifier">arg</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string</span><span
            class="method-args">(string_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Strings</p>
          
          

          
          <div class="method-source-code" id="string-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:str</span>, [ <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">string_t</span>) ],
    <span class="ruby-identifier">delimited_string_map</span>(<span class="ruby-identifier">string_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_compose</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="string_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">collapse_string_parts?</span>(<span class="ruby-identifier">parts</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">begin_t</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">end_t</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">n</span>(<span class="ruby-value">:str</span>, <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>,
        <span class="ruby-identifier">string_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:dstr</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
      <span class="ruby-identifier">string_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_internal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_internal</span><span
            class="method-args">(string_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="string_internal-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_internal</span>(<span class="ruby-identifier">string_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:str</span>, [ <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">string_t</span>) ],
    <span class="ruby-identifier">unquoted_map</span>(<span class="ruby-identifier">string_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-symbol" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbol</span><span
            class="method-args">(symbol_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Symbols</p>
          
          

          
          <div class="method-source-code" id="symbol-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbol</span>(<span class="ruby-identifier">symbol_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:sym</span>, [ <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">symbol_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">prefix_string_map</span>(<span class="ruby-identifier">symbol_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-symbol_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbol_compose</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="symbol_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbol_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">collapse_string_parts?</span>(<span class="ruby-identifier">parts</span>)
    <span class="ruby-identifier">str</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>

    <span class="ruby-identifier">n</span>(<span class="ruby-value">:sym</span>, [ <span class="ruby-identifier">str</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span> ],
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">str</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-value">18</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:empty_symbol</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:dsym</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-symbol_internal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbol_internal</span><span
            class="method-args">(symbol_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="symbol_internal-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbol_internal</span>(<span class="ruby-identifier">symbol_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:sym</span>, [ <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">symbol_t</span>).<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">unquoted_map</span>(<span class="ruby-identifier">symbol_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-symbols_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbols_compose</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="symbols_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbols_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:str</span>
      <span class="ruby-identifier">value</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">part</span>
      <span class="ruby-identifier">part</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:sym</span>, [ <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_sym</span> ])
    <span class="ruby-keyword">when</span> <span class="ruby-value">:dstr</span>
      <span class="ruby-identifier">part</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-value">:dsym</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">part</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:array</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ternary" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ternary</span><span
            class="method-args">(cond, question_t, if_true, colon_t, if_false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ternary-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 928</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ternary</span>(<span class="ruby-identifier">cond</span>, <span class="ruby-identifier">question_t</span>, <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">colon_t</span>, <span class="ruby-identifier">if_false</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:if</span>, [ <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>), <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">if_false</span> ],
    <span class="ruby-identifier">ternary_map</span>(<span class="ruby-identifier">cond</span>, <span class="ruby-identifier">question_t</span>, <span class="ruby-identifier">if_true</span>, <span class="ruby-identifier">colon_t</span>, <span class="ruby-identifier">if_false</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-true" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">true</span><span
            class="method-args">(true_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="true-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">true</span>(<span class="ruby-identifier">true_t</span>)
  <span class="ruby-identifier">n0</span>(<span class="ruby-value">:true</span>,
    <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">true_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unary_num" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unary_num</span><span
            class="method-args">(unary_t, numeric)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unary_num-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unary_num</span>(<span class="ruby-identifier">unary_t</span>, <span class="ruby-identifier">numeric</span>)
  <span class="ruby-identifier">value</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">numeric</span>
  <span class="ruby-identifier">operator_loc</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">unary_t</span>)

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">unary_t</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;+&#39;</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-operator">+</span><span class="ruby-identifier">value</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;-&#39;</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-operator">-</span><span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">numeric</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-keyword">nil</span>, [ <span class="ruby-identifier">value</span> ],
    <span class="ruby-value">:location</span> =<span class="ruby-operator">&gt;</span>
      <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(
        <span class="ruby-identifier">operator_loc</span>,
        <span class="ruby-identifier">operator_loc</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">numeric</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unary_op" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unary_op</span><span
            class="method-args">(op_t, receiver)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unary_op-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unary_op</span>(<span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">receiver</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">op_t</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;+&#39;</span>, <span class="ruby-string">&#39;-&#39;</span>
    <span class="ruby-identifier">method</span> = <span class="ruby-identifier">value</span>(<span class="ruby-identifier">op_t</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;@&#39;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">method</span> = <span class="ruby-identifier">value</span>(<span class="ruby-identifier">op_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">n</span>(<span class="ruby-value">:send</span>, [ <span class="ruby-identifier">receiver</span>, <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span> ],
    <span class="ruby-identifier">send_unary_op_map</span>(<span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">receiver</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-undef_method" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">undef_method</span><span
            class="method-args">(undef_t, names)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="undef_method-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 594</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">undef_method</span>(<span class="ruby-identifier">undef_t</span>, <span class="ruby-identifier">names</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:undef</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">names</span> ],
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">undef_t</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">names</span>, <span class="ruby-keyword">nil</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-when" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">when</span><span
            class="method-args">(when_t, patterns, then_t, body)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Case matching</p>
          
          

          
          <div class="method-source-code" id="when-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 935</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">when</span>(<span class="ruby-identifier">when_t</span>, <span class="ruby-identifier">patterns</span>, <span class="ruby-identifier">then_t</span>, <span class="ruby-identifier">body</span>)
  <span class="ruby-identifier">children</span> = <span class="ruby-identifier">patterns</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">body</span>
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:when</span>, <span class="ruby-identifier">children</span>,
    <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">when_t</span>, <span class="ruby-identifier">then_t</span>, <span class="ruby-identifier">children</span>, <span class="ruby-keyword">nil</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-word" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">word</span><span
            class="method-args">(parts)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="word-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 279</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">word</span>(<span class="ruby-identifier">parts</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">collapse_string_parts?</span>(<span class="ruby-identifier">parts</span>)
    <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:dstr</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
      <span class="ruby-identifier">collection_map</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-keyword">nil</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-words_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">words_compose</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="words_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">words_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:array</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xstring_compose" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xstring_compose</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Executable strings</p>
          
          

          
          <div class="method-source-code" id="xstring_compose-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xstring_compose</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-value">:xstr</span>, [ <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span> ],
    <span class="ruby-identifier">string_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-arg_name_collides-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">arg_name_collides?</span><span
            class="method-args">(this_name, that_name)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="arg_name_collides-3F-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arg_name_collides?</span>(<span class="ruby-identifier">this_name</span>, <span class="ruby-identifier">that_name</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">18</span>
    <span class="ruby-identifier">this_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">that_name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">19</span>
    <span class="ruby-comment"># Ignore underscore.</span>
    <span class="ruby-identifier">this_name</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:_</span> <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">this_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">that_name</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Ignore everything beginning with underscore.</span>
    <span class="ruby-identifier">this_name</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">this_name</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;_&#39;</span> <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">this_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">that_name</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-arg_prefix_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">arg_prefix_map</span><span
            class="method-args">(op_t, name_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="arg_prefix_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1342</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arg_prefix_map</span>(<span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">name_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name_t</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Variable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>), <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-binary_op_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">binary_op_map</span><span
            class="method-args">(left_e, op_t, right_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="binary_op_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">binary_op_map</span>(<span class="ruby-identifier">left_e</span>, <span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">right_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>), <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">left_e</span>, <span class="ruby-identifier">right_e</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-block_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">block_map</span><span
            class="method-args">(receiver_l, begin_t, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="block_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1433</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">block_map</span>(<span class="ruby-identifier">receiver_l</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                              <span class="ruby-identifier">receiver_l</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_condition</span><span
            class="method-args">(cond)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>VERIFICATION</p>
          
          

          
          <div class="method-source-code" id="check_condition-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:masgn</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">23</span>
      <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:masgn_as_condition</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">cond</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:begin</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-keyword">nil</span>, [
        <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">cond</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>)
      ])
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">cond</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:and</span>, <span class="ruby-value">:or</span>, <span class="ruby-value">:irange</span>, <span class="ruby-value">:erange</span>
    <span class="ruby-identifier">lhs</span>, <span class="ruby-identifier">rhs</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">cond</span>

    <span class="ruby-identifier">type</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:irange</span> <span class="ruby-keyword">then</span> <span class="ruby-value">:iflipflop</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:erange</span> <span class="ruby-keyword">then</span> <span class="ruby-value">:eflipflop</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> [<span class="ruby-value">:and</span>, <span class="ruby-value">:or</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">cond</span>.<span class="ruby-identifier">type</span>) <span class="ruby-operator">&amp;&amp;</span>
           <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">==</span> <span class="ruby-value">18</span>
      <span class="ruby-identifier">cond</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">cond</span>.<span class="ruby-identifier">updated</span>(<span class="ruby-identifier">type</span>, [
        <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">lhs</span>),
        <span class="ruby-identifier">check_condition</span>(<span class="ruby-identifier">rhs</span>)
      ])
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">when</span> <span class="ruby-value">:regexp</span>
    <span class="ruby-identifier">n</span>(<span class="ruby-value">:match_current_line</span>, [ <span class="ruby-identifier">cond</span> ], <span class="ruby-identifier">expr_map</span>(<span class="ruby-identifier">cond</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>))

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">cond</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-check_duplicate_args" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_duplicate_args</span><span
            class="method-args">(args, map={})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="check_duplicate_args-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_duplicate_args</span>(<span class="ruby-identifier">args</span>, <span class="ruby-identifier">map</span>={})
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">this_arg</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">this_arg</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:arg</span>, <span class="ruby-value">:optarg</span>, <span class="ruby-value">:restarg</span>, <span class="ruby-value">:blockarg</span>,
         <span class="ruby-value">:kwarg</span>, <span class="ruby-value">:kwoptarg</span>, <span class="ruby-value">:kwrestarg</span>,
         <span class="ruby-value">:shadowarg</span>, <span class="ruby-value">:procarg0</span>

      <span class="ruby-identifier">this_name</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">this_arg</span>

      <span class="ruby-identifier">that_arg</span>   = <span class="ruby-identifier">map</span>[<span class="ruby-identifier">this_name</span>]
      <span class="ruby-identifier">that_name</span>, = <span class="ruby-operator">*</span><span class="ruby-identifier">that_arg</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">that_arg</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">map</span>[<span class="ruby-identifier">this_name</span>] = <span class="ruby-identifier">this_arg</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">arg_name_collides?</span>(<span class="ruby-identifier">this_name</span>, <span class="ruby-identifier">that_name</span>)
        <span class="ruby-identifier">diagnostic</span> <span class="ruby-value">:error</span>, <span class="ruby-value">:duplicate_argument</span>, <span class="ruby-keyword">nil</span>,
                   <span class="ruby-identifier">this_arg</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">name</span>, [ <span class="ruby-identifier">that_arg</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">name</span> ]
      <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">when</span> <span class="ruby-value">:mlhs</span>
      <span class="ruby-identifier">check_duplicate_args</span>(<span class="ruby-identifier">this_arg</span>.<span class="ruby-identifier">children</span>, <span class="ruby-identifier">map</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-collapse_string_parts-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">collapse_string_parts?</span><span
            class="method-args">(parts)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="collapse_string_parts-3F-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1585</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">collapse_string_parts?</span>(<span class="ruby-identifier">parts</span>)
  <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">one?</span> <span class="ruby-operator">&amp;&amp;</span>
      [<span class="ruby-value">:str</span>, <span class="ruby-value">:dstr</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">type</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-collection_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">collection_map</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="collection_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1279</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">begin_t</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">end_t</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">any?</span>
      <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">begin_t</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">end_t</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>), <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-condition_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">condition_map</span><span
            class="method-args">(keyword_t, cond_e, begin_t, body_e, else_t, else_e, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="condition_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1460</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">condition_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">cond_e</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">body_e</span>, <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">else_e</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_t</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">else_e</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">else_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">else_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">else_t</span>)
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">else_t</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">body_e</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">body_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">body_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>)
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">cond_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Condition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>),
                             <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">else_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                             <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">end_l</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-constant_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">constant_map</span><span
            class="method-args">(scope, colon2_t, name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="constant_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">constant_map</span>(<span class="ruby-identifier">scope</span>, <span class="ruby-identifier">colon2_t</span>, <span class="ruby-identifier">name_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>))
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Constant</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">colon2_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>), <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-definition_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">definition_map</span><span
            class="method-args">(keyword_t, operator_t, name_t, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="definition_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">definition_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">operator_t</span>, <span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Definition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>),
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">operator_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>),
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delimited_string_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delimited_string_map</span><span
            class="method-args">(string_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="delimited_string_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delimited_string_map</span>(<span class="ruby-identifier">string_t</span>)
  <span class="ruby-identifier">str_range</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">string_t</span>)

  <span class="ruby-identifier">begin_l</span> = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">begin_pos</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">begin_pos</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)

  <span class="ruby-identifier">end_l</span>   = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">end_pos</span>)

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">begin_l</span>, <span class="ruby-identifier">end_l</span>,
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">string_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-diagnostic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diagnostic</span><span
            class="method-args">(type, reason, arguments, location, highlights=[])</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="diagnostic-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1611</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">diagnostic</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">reason</span>, <span class="ruby-identifier">arguments</span>, <span class="ruby-identifier">location</span>, <span class="ruby-identifier">highlights</span>=[])
  <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">diagnostics</span>.<span class="ruby-identifier">process</span>(
      <span class="ruby-constant">Diagnostic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">reason</span>, <span class="ruby-identifier">arguments</span>, <span class="ruby-identifier">location</span>, <span class="ruby-identifier">highlights</span>))

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:error</span>
    <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:yyerror</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eh_keyword_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eh_keyword_map</span><span
            class="method-args">(compstmt_e, keyword_t, body_es, else_t, else_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="eh_keyword_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1504</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eh_keyword_map</span>(<span class="ruby-identifier">compstmt_e</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">body_es</span>,
                   <span class="ruby-identifier">else_t</span>, <span class="ruby-identifier">else_e</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">compstmt_e</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">keyword_t</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">begin_l</span> = <span class="ruby-identifier">body_es</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">begin_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">begin_l</span> = <span class="ruby-identifier">compstmt_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">else_t</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">else_e</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">else_t</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">else_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">body_es</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">body_es</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Condition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">else_t</span>), <span class="ruby-keyword">nil</span>,
                             <span class="ruby-identifier">begin_l</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">end_l</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-expr_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expr_map</span><span
            class="method-args">(loc)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="expr_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expr_map</span>(<span class="ruby-identifier">loc</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-for_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">for_map</span><span
            class="method-args">(keyword_t, in_t, begin_t, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="for_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">for_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">in_t</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">For</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">in_t</span>),
                       <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                       <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-join_exprs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">join_exprs</span><span
            class="method-args">(left_expr, right_expr)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="join_exprs-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">left_expr</span>, <span class="ruby-identifier">right_expr</span>)
  <span class="ruby-identifier">left_expr</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.
    <span class="ruby-identifier">join</span>(<span class="ruby-identifier">right_expr</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-keyword_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keyword_map</span><span
            class="method-args">(keyword_t, begin_t, args, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="keyword_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1438</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keyword_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-identifier">args</span> <span class="ruby-operator">||=</span> []

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_t</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">-2</span>].<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Keyword</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                           <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">end_l</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-keyword_mod_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keyword_mod_map</span><span
            class="method-args">(pre_e, keyword_t, post_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="keyword_mod_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1455</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keyword_mod_map</span>(<span class="ruby-identifier">pre_e</span>, <span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">post_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Keyword</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                           <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">pre_e</span>, <span class="ruby-identifier">post_e</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kwarg_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kwarg_map</span><span
            class="method-args">(name_t, value_e=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="kwarg_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1352</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kwarg_map</span>(<span class="ruby-identifier">name_t</span>, <span class="ruby-identifier">value_e</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">label_range</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-identifier">name_range</span>  = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">label_range</span>.<span class="ruby-identifier">source_buffer</span>,
                                  <span class="ruby-identifier">label_range</span>.<span class="ruby-identifier">begin_pos</span>,
                                  <span class="ruby-identifier">label_range</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value_e</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">value_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Variable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name_range</span>, <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-loc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">loc</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="loc-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1606</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-comment"># Pass through `nil`s and return nil for tNL.</span>
  <span class="ruby-identifier">token</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">token</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">token</span>[<span class="ruby-value">0</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-module_definition_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">module_definition_map</span><span
            class="method-args">(keyword_t, name_e, operator_t, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="module_definition_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1367</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">module_definition_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">name_e</span>, <span class="ruby-identifier">operator_t</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name_e</span>
    <span class="ruby-identifier">name_l</span> = <span class="ruby-identifier">name_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Definition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>),
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">operator_t</span>), <span class="ruby-identifier">name_l</span>,
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-n" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">n</span><span
            class="method-args">(type, children, source_map)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>SOURCE MAPS</p>
          
          

          
          <div class="method-source-code" id="n-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">children</span>, <span class="ruby-identifier">source_map</span>)
  <span class="ruby-constant">AST</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">children</span>, <span class="ruby-value">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">source_map</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-n0" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">n0</span><span
            class="method-args">(type, source_map)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="n0-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">n0</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">source_map</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">type</span>, [], <span class="ruby-identifier">source_map</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-numeric" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">numeric</span><span
            class="method-args">(kind, token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="numeric-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">numeric</span>(<span class="ruby-identifier">kind</span>, <span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">n</span>(<span class="ruby-identifier">kind</span>, [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>) ],
    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">token</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair_keyword_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair_keyword_map</span><span
            class="method-args">(key_t, value_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pair_keyword_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair_keyword_map</span>(<span class="ruby-identifier">key_t</span>, <span class="ruby-identifier">value_e</span>)
  <span class="ruby-identifier">key_range</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">key_t</span>)

  <span class="ruby-identifier">key_l</span>   = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">begin_pos</span>,
                              <span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)

  <span class="ruby-identifier">colon_l</span> = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,
                              <span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">end_pos</span>)

  [ <span class="ruby-comment"># key map</span>
    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                                <span class="ruby-identifier">key_l</span>),
    <span class="ruby-comment"># pair map</span>
    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">colon_l</span>,
                              <span class="ruby-identifier">key_range</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">value_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)) ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pair_quoted_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pair_quoted_map</span><span
            class="method-args">(begin_t, end_t, value_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pair_quoted_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pair_quoted_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">value_e</span>)
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)

  <span class="ruby-identifier">quote_l</span> = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>,
                              <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)

  <span class="ruby-identifier">colon_l</span> = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">end_pos</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,
                              <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">end_pos</span>)

  [ <span class="ruby-comment"># modified end token</span>
    [ <span class="ruby-identifier">value</span>(<span class="ruby-identifier">end_t</span>), <span class="ruby-identifier">quote_l</span> ],
    <span class="ruby-comment"># pair map</span>
    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">colon_l</span>,
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">value_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)) ]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-prefix_string_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prefix_string_map</span><span
            class="method-args">(symbol)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="prefix_string_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prefix_string_map</span>(<span class="ruby-identifier">symbol</span>)
  <span class="ruby-identifier">str_range</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">symbol</span>)

  <span class="ruby-identifier">begin_l</span> = <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">source_buffer</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">begin_pos</span>,
                              <span class="ruby-identifier">str_range</span>.<span class="ruby-identifier">begin_pos</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">begin_l</span>, <span class="ruby-keyword">nil</span>,
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">symbol</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-regexp_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">regexp_map</span><span
            class="method-args">(begin_t, end_t, options_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="regexp_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">regexp_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">end_t</span>, <span class="ruby-identifier">options_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">options_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rescue_body_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rescue_body_map</span><span
            class="method-args">(keyword_t, exc_list_e, assoc_t, exc_var_e, then_t, compstmt_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="rescue_body_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1491</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rescue_body_map</span>(<span class="ruby-identifier">keyword_t</span>, <span class="ruby-identifier">exc_list_e</span>, <span class="ruby-identifier">assoc_t</span>,
                    <span class="ruby-identifier">exc_var_e</span>, <span class="ruby-identifier">then_t</span>,
                    <span class="ruby-identifier">compstmt_e</span>)
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">compstmt_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">compstmt_e</span>
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">then_t</span>)               <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">then_t</span>
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">exc_var_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>  <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">exc_var_e</span>
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">exc_list_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">exc_list_e</span>
  <span class="ruby-identifier">end_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>)            <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_l</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">RescueBody</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">assoc_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">then_t</span>),
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">keyword_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">end_l</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_binary_op_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_binary_op_map</span><span
            class="method-args">(lhs_e, selector_t, rhs_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="send_binary_op_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1409</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_binary_op_map</span>(<span class="ruby-identifier">lhs_e</span>, <span class="ruby-identifier">selector_t</span>, <span class="ruby-identifier">rhs_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Send</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>),
                        <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                        <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">lhs_e</span>, <span class="ruby-identifier">rhs_e</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_index_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_index_map</span><span
            class="method-args">(receiver_e, lbrack_t, rbrack_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="send_index_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1427</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_index_map</span>(<span class="ruby-identifier">receiver_e</span>, <span class="ruby-identifier">lbrack_t</span>, <span class="ruby-identifier">rbrack_t</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Send</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">lbrack_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">rbrack_t</span>)),
                        <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                        <span class="ruby-identifier">receiver_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">rbrack_t</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_map</span><span
            class="method-args">(receiver_e, dot_t, selector_t, begin_t=nil, args=[], end_t=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="send_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1383</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_map</span>(<span class="ruby-identifier">receiver_e</span>, <span class="ruby-identifier">dot_t</span>, <span class="ruby-identifier">selector_t</span>, <span class="ruby-identifier">begin_t</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">args</span>=[], <span class="ruby-identifier">end_t</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">receiver_e</span>
    <span class="ruby-identifier">begin_l</span> = <span class="ruby-identifier">receiver_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">selector_t</span>
    <span class="ruby-identifier">begin_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_t</span>
    <span class="ruby-identifier">end_l</span>   = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">end_l</span>   = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">selector_t</span>
    <span class="ruby-identifier">end_l</span>   = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Send</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">dot_t</span>),   <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>),
                        <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>),
                        <span class="ruby-identifier">begin_l</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">end_l</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-send_unary_op_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">send_unary_op_map</span><span
            class="method-args">(selector_t, arg_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="send_unary_op_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1415</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_unary_op_map</span>(<span class="ruby-identifier">selector_t</span>, <span class="ruby-identifier">arg_e</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg_e</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">arg_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Send</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">selector_t</span>),
                        <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                        <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-static_regexp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">static_regexp</span><span
            class="method-args">(parts, options)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="static_regexp-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1556</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">static_regexp</span>(<span class="ruby-identifier">parts</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">source</span> = <span class="ruby-identifier">static_string</span>(<span class="ruby-identifier">parts</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Encoding</span>)
    <span class="ruby-identifier">source</span> = <span class="ruby-keyword">case</span>
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:u</span>)
      <span class="ruby-identifier">source</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:e</span>)
      <span class="ruby-identifier">source</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">EUC_JP</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:s</span>)
      <span class="ruby-identifier">source</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">WINDOWS_31J</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:n</span>)
      <span class="ruby-identifier">source</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">source</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">source</span>, (<span class="ruby-constant">Regexp</span><span class="ruby-operator">::</span><span class="ruby-constant">EXTENDED</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:x</span>)))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-static_regexp_node" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">static_regexp_node</span><span
            class="method-args">(node)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="static_regexp_node-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1578</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">static_regexp_node</span>(<span class="ruby-identifier">node</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:regexp</span>
    <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">options</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>], <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">-1</span>]
    <span class="ruby-identifier">static_regexp</span>(<span class="ruby-identifier">parts</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-static_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">static_string</span><span
            class="method-args">(nodes)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Extract a static string from e.g. a regular expression, honoring the fact
that MRI expands interpolations like #{“”} at parse time.</p>
          
          

          
          <div class="method-source-code" id="static_string-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1539</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">static_string</span>(<span class="ruby-identifier">nodes</span>)
  <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:str</span>
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-value">:begin</span>
      <span class="ruby-keyword">if</span> (<span class="ruby-identifier">string</span> = <span class="ruby-identifier">static_string</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>))
        <span class="ruby-identifier">string</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_map</span><span
            class="method-args">(begin_t, parts, end_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="string_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">begin_t</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">begin_t</span>).<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;&lt;&lt;&#39;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">any?</span>
      <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>).<span class="ruby-identifier">begin</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Heredoc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">begin_t</span>), <span class="ruby-identifier">expr_l</span>, <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">end_t</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">collection_map</span>(<span class="ruby-identifier">begin_t</span>, <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">end_t</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-string_value" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string_value</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="string_value-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">token</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">valid_encoding?</span>
    <span class="ruby-identifier">diagnostic</span>(<span class="ruby-value">:error</span>, <span class="ruby-value">:invalid_encoding</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">token</span>[<span class="ruby-value">1</span>])
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">token</span>[<span class="ruby-value">0</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ternary_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ternary_map</span><span
            class="method-args">(begin_e, question_t, mid_e, colon_t, end_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ternary_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1480</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ternary_map</span>(<span class="ruby-identifier">begin_e</span>, <span class="ruby-identifier">question_t</span>, <span class="ruby-identifier">mid_e</span>, <span class="ruby-identifier">colon_t</span>, <span class="ruby-identifier">end_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Ternary</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">question_t</span>), <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">colon_t</span>),
                           <span class="ruby-identifier">join_exprs</span>(<span class="ruby-identifier">begin_e</span>, <span class="ruby-identifier">end_e</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-token_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">token_map</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="token_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1203</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">token_map</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unary_op_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unary_op_map</span><span
            class="method-args">(op_t, arg_e=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unary_op_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1332</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unary_op_map</span>(<span class="ruby-identifier">op_t</span>, <span class="ruby-identifier">arg_e</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg_e</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">expr_l</span> = <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>).<span class="ruby-identifier">join</span>(<span class="ruby-identifier">arg_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Operator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">op_t</span>), <span class="ruby-identifier">expr_l</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unquoted_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unquoted_map</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unquoted_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unquoted_map</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                              <span class="ruby-identifier">loc</span>(<span class="ruby-identifier">token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-value" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">value</span><span
            class="method-args">(token)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="value-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1590</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">token</span>)
  <span class="ruby-identifier">token</span>[<span class="ruby-value">0</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: string_value
        </div>
        

        
      </div>

    
      <div id="method-i-var_send_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">var_send_map</span><span
            class="method-args">(variable_e)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="var_send_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">var_send_map</span>(<span class="ruby-identifier">variable_e</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Send</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">variable_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>,
                        <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
                        <span class="ruby-identifier">variable_e</span>.<span class="ruby-identifier">loc</span>.<span class="ruby-identifier">expression</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-variable_map" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">variable_map</span><span
            class="method-args">(name_t)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="variable_map-source">
            <pre><span class="ruby-comment"># File lib/parser/builders/default.rb, line 1324</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">variable_map</span>(<span class="ruby-identifier">name_t</span>)
  <span class="ruby-constant">Source</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span><span class="ruby-operator">::</span><span class="ruby-constant">Variable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">loc</span>(<span class="ruby-identifier">name_t</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

